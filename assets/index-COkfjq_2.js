(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const zn=!1;var pn=Array.isArray,qr=Array.prototype.indexOf,hn=Array.from,Ct=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,Ur=Object.getOwnPropertyDescriptors,Br=Object.prototype,Hr=Array.prototype,Gn=Object.getPrototypeOf,Nn=Object.isExtensible;const He=()=>{};function Vr(e){return e()}function Pt(e){for(var t=0;t<e.length;t++)e[t]()}function Kr(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const X=2,Qn=4,Ft=8,Qe=16,de=32,Ce=64,Jn=128,ee=256,Tt=512,B=1024,te=2048,_e=4096,ie=8192,Pe=16384,gn=32768,wn=65536,Mn=1<<17,Wr=1<<18,vt=1<<19,Xn=1<<20,nn=1<<21,yn=1<<22,xe=1<<23,Ve=Symbol("$state"),Yr=Symbol("legacy props"),mn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function zr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Zn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Gr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Qr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Jr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Zr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function es(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ns(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function rs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Ot=1,Rt=2,er=4,ss=8,is=16,as=2,ls=4,os=8,us=1,fs=2,U=Symbol();let cs=!1;function tr(e){return e===this.v}function nr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function rr(e){return!nr(e,this.v)}let Je=!1,vs=!1;function ds(){Je=!0}let F=null;function It(e){F=e}function Te(e,t=!1,n){F={p:F,c:null,e:null,s:e,x:null,l:Je&&!t?{s:null,u:null,$:[]}:null}}function Ie(e){var t=F,n=t.e;if(n!==null){t.e=null;for(var r of n)mr(r)}return F=t.p,{}}function dt(){return!Je||F!==null&&F.l===null}const _s=new WeakMap;function ps(e){var t=$;if(t===null)return C.f|=xe,e;if((t.f&gn)===0){if((t.f&Jn)===0)throw!t.parent&&e instanceof Error&&sr(e),e;t.b.error(e)}else bn(e,t)}function bn(e,t){for(;t!==null;){if((t.f&Jn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&sr(e),e}function sr(e){const t=_s.get(e);t&&(Ct(e,"message",{value:t.message}),Ct(e,"stack",{value:t.stack}))}let it=[],rn=[];function ir(){var e=it;it=[],Pt(e)}function hs(){var e=rn;rn=[],Pt(e)}function ar(e){it.length===0&&queueMicrotask(ir),it.push(e)}function gs(){it.length>0&&ir(),rn.length>0&&hs()}function ws(){for(var e=$.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&zr(),e}function En(e){var t=X|te,n=C!==null&&(C.f&X)!==0?C:null;return $===null||n!==null&&(n.f&ee)!==0?t|=ee:$.f|=vt,{ctx:F,deps:null,effects:null,equals:tr,f:t,fn:e,reactions:null,rv:0,v:U,wv:0,parent:n??$,ac:null}}function ys(e,t){let n=$;n===null&&Gr();var r=n.b,s=void 0,i=at(U),a=null,o=!C;return Ls(()=>{try{var l=e();a&&Promise.resolve(l).catch(()=>{})}catch(d){l=Promise.reject(d)}var u=()=>l;s=a?.then(u,u)??Promise.resolve(l),a=s;var f=M,v=r.pending;o&&(r.update_pending_count(1),v||f.increment());const _=(d,c=void 0)=>{a=null,v||f.activate(),c?c!==mn&&(i.f|=xe,lt(i,c)):((i.f&xe)!==0&&(i.f^=xe),lt(i,d)),o&&(r.update_pending_count(-1),v||f.decrement()),ur()};if(s.then(_,d=>_(null,d||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function u(f){function v(){f===s?l(i):u(s)}f.then(v,v)}u(s)})}function xn(e){const t=En(e);return t.equals=rr,t}function lr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ve(t[n])}}function ms(e){for(var t=e.parent;t!==null;){if((t.f&X)===0)return t;t=t.parent}return null}function Sn(e){var t,n=$;ye(ms(e));try{lr(e),t=Tr(e)}finally{ye(n)}return t}function or(e){var t=Sn(e);if(e.equals(t)||(e.v=t,e.wv=Cr()),!Le){var n=(ge||(e.f&ee)!==0)&&e.deps!==null?_e:B;W(e,n)}}function bs(e,t,n){const r=dt()?En:xn;if(t.length===0){n(e.map(r));return}var s=M,i=$,a=Es(),o=ws();Promise.all(t.map(l=>ys(l))).then(l=>{s?.activate(),a();try{n([...e.map(r),...l])}catch(u){(i.f&Pe)===0&&bn(u,i)}s?.deactivate(),ur()}).catch(l=>{o.error(l)})}function Es(){var e=$,t=C,n=F,r=M;return function(){ye(e),fe(t),It(n),r?.activate()}}function ur(){ye(null),fe(null),It(null)}const zt=new Set;let M=null,St=null,Dn=new Set,Lt=[];function fr(){const e=Lt.shift();Lt.length>0&&queueMicrotask(fr),e()}let Ae=[],jt=null,sn=!1,kt=!1;class ze{current=new Map;#o=new Map;#s=new Set;#e=0;#u=null;#f=!1;#n=[];#i=[];#r=[];#t=[];#a=[];#c=[];#v=[];skipped_effects=new Set;process(t){Ae=[],St=null;for(const s of t)this.#_(s);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#a=[],St=M,M=null,Fn(n),Fn(r),M===null?M=this:zt.delete(this),this.#u?.resolve()}else this.#l(this.#r),this.#l(this.#t),this.#l(this.#a);for(const s of this.#n)$e(s);for(const s of this.#i)$e(s);this.#n=[],this.#i=[]}#_(t){t.f^=B;for(var n=t.first;n!==null;){var r=n.f,s=(r&(de|Ce))!==0,i=s&&(r&B)!==0,a=i||(r&ie)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){if(s)n.f^=B;else if((r&Qn)!==0)this.#t.push(n);else if((r&B)===0)if((r&yn)!==0){var o=n.b?.pending?this.#i:this.#n;o.push(n)}else pt(n)&&((n.f&Qe)!==0&&this.#a.push(n),$e(n));var l=n.first;if(l!==null){n=l;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}}#l(t){for(const n of t)((n.f&te)!==0?this.#c:this.#v).push(n),W(n,B);t.length=0}capture(t,n){this.#o.has(t)||this.#o.set(t,n),this.current.set(t,t.v)}activate(){M=this}deactivate(){M=null,St=null;for(const t of Dn)if(Dn.delete(t),t(),M!==null)break}neuter(){this.#f=!0}flush(){Ae.length>0?cr():this.#d(),M===this&&(this.#e===0&&zt.delete(this),this.deactivate())}#d(){if(!this.#f)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)W(t,te),Ge(t);for(const t of this.#v)W(t,_e),Ge(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#u??=Kr()).promise}static ensure(){if(M===null){const t=M=new ze;zt.add(M),kt||ze.enqueue(()=>{M===t&&t.flush()})}return M}static enqueue(t){Lt.length===0&&queueMicrotask(fr),Lt.unshift(t)}}function xs(e){var t=kt;kt=!0;try{for(var n;;){if(gs(),Ae.length===0&&(M?.flush(),Ae.length===0))return jt=null,n;cr()}}finally{kt=t}}function cr(){var e=We;sn=!0;try{var t=0;for(qn(!0);Ae.length>0;){var n=ze.ensure();if(t++>1e3){var r,s;Ss()}n.process(Ae),we.clear()}}finally{sn=!1,qn(e),jt=null}}function Ss(){try{Zr()}catch(e){bn(e,jt)}}let Ee=null;function Fn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Pe|ie))===0&&pt(r)&&(Ee=[],$e(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Sr(r):r.fn=null),Ee?.length>0)){we.clear();for(const s of Ee)$e(s);Ee=[]}}Ee=null}}function Ge(e){for(var t=jt=e;t.parent!==null;){t=t.parent;var n=t.f;if(sn&&t===$&&(n&Qe)!==0)return;if((n&(Ce|de))!==0){if((n&B)===0)return;t.f^=B}}Ae.push(t)}const we=new Map;function at(e,t){var n={f:0,v:e,reactions:null,equals:tr,rv:0,wv:0};return n}function he(e,t){const n=at(e);return Ds(n),n}function se(e,t=!1,n=!0){const r=at(e);return t||(r.equals=rr),Je&&n&&F!==null&&F.l!==null&&(F.l.s??=[]).push(r),r}function k(e,t,n=!1){C!==null&&(!oe||(C.f&Mn)!==0)&&dt()&&(C.f&(X|Qe|yn|Mn))!==0&&!ce?.includes(e)&&rs();let r=n?Ue(t):t;return lt(e,r)}function lt(e,t){if(!e.equals(t)){var n=e.v;Le?we.set(e,t):we.set(e,n),e.v=t;var r=ze.ensure();r.capture(e,n),(e.f&X)!==0&&((e.f&te)!==0&&Sn(e),W(e,(e.f&ee)===0?B:_e)),e.wv=Cr(),vr(e,te),dt()&&$!==null&&($.f&B)!==0&&($.f&(de|Ce))===0&&(Z===null?Fs([e]):Z.push(e))}return t}function Gt(e,t=1){var n=p(e),r=t===1?n++:n--;return k(e,n),r}function Qt(e){k(e,e.v+1)}function vr(e,t){var n=e.reactions;if(n!==null)for(var r=dt(),s=n.length,i=0;i<s;i++){var a=n[i],o=a.f;if(!(!r&&a===$)){var l=(o&te)===0;l&&W(a,t),(o&X)!==0?vr(a,_e):l&&((o&Qe)!==0&&Ee!==null&&Ee.push(a),Ge(a))}}}function Ue(e){if(typeof e!="object"||e===null||Ve in e)return e;const t=Gn(e);if(t!==Br&&t!==Hr)return e;var n=new Map,r=pn(e),s=he(0),i=ke,a=o=>{if(ke===i)return o();var l=C,u=ke;fe(null),Bn(i);var f=o();return fe(l),Bn(u),f};return r&&n.set("length",he(e.length)),new Proxy(e,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ts();var f=n.get(l);return f===void 0?f=a(()=>{var v=he(u.value);return n.set(l,v),v}):k(f,u.value,!0),!0},deleteProperty(o,l){var u=n.get(l);if(u===void 0){if(l in o){const f=a(()=>he(U));n.set(l,f),Qt(s)}}else k(u,U),Qt(s);return!0},get(o,l,u){if(l===Ve)return e;var f=n.get(l),v=l in o;if(f===void 0&&(!v||Be(o,l)?.writable)&&(f=a(()=>{var d=Ue(v?o[l]:U),c=he(d);return c}),n.set(l,f)),f!==void 0){var _=p(f);return _===U?void 0:_}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=p(f))}else if(u===void 0){var v=n.get(l),_=v?.v;if(v!==void 0&&_!==U)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(o,l){if(l===Ve)return!0;var u=n.get(l),f=u!==void 0&&u.v!==U||Reflect.has(o,l);if(u!==void 0||$!==null&&(!f||Be(o,l)?.writable)){u===void 0&&(u=a(()=>{var _=f?Ue(o[l]):U,d=he(_);return d}),n.set(l,u));var v=p(u);if(v===U)return!1}return f},set(o,l,u,f){var v=n.get(l),_=l in o;if(r&&l==="length")for(var d=u;d<v.v;d+=1){var c=n.get(d+"");c!==void 0?k(c,U):d in o&&(c=a(()=>he(U)),n.set(d+"",c))}if(v===void 0)(!_||Be(o,l)?.writable)&&(v=a(()=>he(void 0)),k(v,Ue(u)),n.set(l,v));else{_=v.v!==U;var y=a(()=>Ue(u));k(v,y)}var h=Reflect.getOwnPropertyDescriptor(o,l);if(h?.set&&h.set.call(f,u),!_){if(r&&typeof l=="string"){var m=n.get("length"),w=Number(l);Number.isInteger(w)&&w>=m.v&&k(m,w+1)}Qt(s)}return!0},ownKeys(o){p(s);var l=Reflect.ownKeys(o).filter(v=>{var _=n.get(v);return _===void 0||_.v!==U});for(var[u,f]of n)f.v!==U&&!(u in o)&&l.push(u);return l},setPrototypeOf(){ns()}})}var On,dr,_r,pr;function ks(){if(On===void 0){On=window,dr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;_r=Be(t,"firstChild").get,pr=Be(t,"nextSibling").get,Nn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Nn(n)&&(n.__t=void 0)}}function _t(e=""){return document.createTextNode(e)}function Nt(e){return _r.call(e)}function qt(e){return pr.call(e)}function A(e,t){return Nt(e)}function Ke(e,t){{var n=Nt(e);return n instanceof Comment&&n.data===""?qt(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function $s(e){e.textContent=""}function hr(){return!1}let Rn=!1;function As(){Rn||(Rn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ut(e){var t=C,n=$;fe(null),ye(null);try{return e()}finally{fe(t),ye(n)}}function gr(e,t,n,r=n){e.addEventListener(t,()=>Ut(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),As()}function wr(e){$===null&&C===null&&Xr(),C!==null&&(C.f&ee)!==0&&$===null&&Jr(),Le&&Qr()}function Cs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function pe(e,t,n,r=!0){var s=$;s!==null&&(s.f&ie)!==0&&(e|=ie);var i={ctx:F,deps:null,nodes_start:null,nodes_end:null,f:e|te,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{$e(i),i.f|=gn}catch(l){throw ve(i),l}else t!==null&&Ge(i);if(r){var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&vt)===0&&(a=a.first),a!==null&&(a.parent=s,s!==null&&Cs(a,s),C!==null&&(C.f&X)!==0&&(e&Ce)===0)){var o=C;(o.effects??=[]).push(a)}}return i}function yr(e){const t=pe(Ft,null,!1);return W(t,B),t.teardown=e,t}function an(e){wr();var t=$.f,n=!C&&(t&de)!==0&&(t&gn)===0;if(n){var r=F;(r.e??=[]).push(e)}else return mr(e)}function mr(e){return pe(Qn|Xn,e,!1)}function Ps(e){return wr(),pe(Ft|Xn,e,!0)}function Ts(e){ze.ensure();const t=pe(Ce|vt,e,!0);return(n={})=>new Promise(r=>{n.outro?kn(t,()=>{ve(t),r(void 0)}):(ve(t),r(void 0))})}function jn(e,t){var n=F,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Bt(()=>{e(),!r.ran&&(r.ran=!0,j(t))})}function Is(){var e=F;Bt(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&B)!==0&&W(n,_e),pt(n)&&$e(n),t.ran=!1}})}function Ls(e){return pe(yn|vt,e,!0)}function Bt(e,t=0){return pe(Ft|t,e,!0)}function Se(e,t=[],n=[]){bs(t,n,r=>{pe(Ft,()=>e(...r.map(p)),!0)})}function br(e,t=0){var n=pe(Qe|t,e,!0);return n}function ot(e,t=!0){return pe(de|vt,e,!0,t)}function Er(e){var t=e.teardown;if(t!==null){const n=Le,r=C;Un(!0),fe(null);try{t.call(null)}finally{Un(n),fe(r)}}}function xr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&Ut(()=>{s.abort(mn)});var r=n.next;(n.f&Ce)!==0?n.parent=null:ve(n,t),n=r}}function Ns(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&de)===0&&ve(t),t=n}}function ve(e,t=!0){var n=!1;(t||(e.f&Wr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ms(e.nodes_start,e.nodes_end),n=!0),xr(e,t&&!n),Mt(e,0),W(e,Pe);var r=e.transitions;if(r!==null)for(const i of r)i.stop();Er(e);var s=e.parent;s!==null&&s.first!==null&&Sr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ms(e,t){for(;e!==null;){var n=e===t?null:qt(e);e.remove(),e=n}}function Sr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function kn(e,t){var n=[];$n(e,n,!0),kr(n,()=>{ve(e),t&&t()})}function kr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function $n(e,t,n){if((e.f&ie)===0){if(e.f^=ie,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&wn)!==0||(r.f&de)!==0;$n(r,t,i?n:!1),r=s}}}function An(e){$r(e,!0)}function $r(e,t){if((e.f&ie)!==0){e.f^=ie,(e.f&B)===0&&(W(e,te),Ge(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&wn)!==0||(n.f&de)!==0;$r(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let We=!1;function qn(e){We=e}let Le=!1;function Un(e){Le=e}let C=null,oe=!1;function fe(e){C=e}let $=null;function ye(e){$=e}let ce=null;function Ds(e){C!==null&&(ce===null?ce=[e]:ce.push(e))}let V=null,Q=0,Z=null;function Fs(e){Z=e}let Ar=1,ut=0,ke=ut;function Bn(e){ke=e}let ge=!1;function Cr(){return++Ar}function pt(e){var t=e.f;if((t&te)!==0)return!0;if((t&_e)!==0){var n=e.deps,r=(t&ee)!==0;if(n!==null){var s,i,a=(t&Tt)!==0,o=r&&$!==null&&!ge,l=n.length;if((a||o)&&($===null||($.f&Pe)===0)){var u=e,f=u.parent;for(s=0;s<l;s++)i=n[s],(a||!i?.reactions?.includes(u))&&(i.reactions??=[]).push(u);a&&(u.f^=Tt),o&&f!==null&&(f.f&ee)===0&&(u.f^=ee)}for(s=0;s<l;s++)if(i=n[s],pt(i)&&or(i),i.wv>e.wv)return!0}(!r||$!==null&&!ge)&&W(e,B)}return!1}function Pr(e,t,n=!0){var r=e.reactions;if(r!==null&&!ce?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&X)!==0?Pr(i,t,!1):t===i&&(n?W(i,te):(i.f&B)!==0&&W(i,_e),Ge(i))}}function Tr(e){var t=V,n=Q,r=Z,s=C,i=ge,a=ce,o=F,l=oe,u=ke,f=e.f;V=null,Q=0,Z=null,ge=(f&ee)!==0&&(oe||!We||C===null),C=(f&(de|Ce))===0?e:null,ce=null,It(e.ctx),oe=!1,ke=++ut,e.ac!==null&&(Ut(()=>{e.ac.abort(mn)}),e.ac=null);try{e.f|=nn;var v=e.fn,_=v(),d=e.deps;if(V!==null){var c;if(Mt(e,Q),d!==null&&Q>0)for(d.length=Q+V.length,c=0;c<V.length;c++)d[Q+c]=V[c];else e.deps=d=V;if(!ge||(f&X)!==0&&e.reactions!==null)for(c=Q;c<d.length;c++)(d[c].reactions??=[]).push(e)}else d!==null&&Q<d.length&&(Mt(e,Q),d.length=Q);if(dt()&&Z!==null&&!oe&&d!==null&&(e.f&(X|_e|te))===0)for(c=0;c<Z.length;c++)Pr(Z[c],e);return s!==null&&s!==e&&(ut++,Z!==null&&(r===null?r=Z:r.push(...Z))),(e.f&xe)!==0&&(e.f^=xe),_}catch(y){return ps(y)}finally{e.f^=nn,V=t,Q=n,Z=r,C=s,ge=i,ce=a,It(o),oe=l,ke=u}}function Os(e,t){let n=t.reactions;if(n!==null){var r=qr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&X)!==0&&(V===null||!V.includes(t))&&(W(t,_e),(t.f&(ee|Tt))===0&&(t.f^=Tt),lr(t),Mt(t,0))}function Mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Os(e,n[r])}function $e(e){var t=e.f;if((t&Pe)===0){W(e,B);var n=$,r=We;$=e,We=!0;try{(t&Qe)!==0?Ns(e):xr(e),Er(e);var s=Tr(e);e.teardown=typeof s=="function"?s:null,e.wv=Ar;var i;zn&&vs&&(e.f&te)!==0&&e.deps}finally{We=r,$=n}}}async function Rs(){await Promise.resolve(),xs()}function p(e){var t=e.f,n=(t&X)!==0;if(C!==null&&!oe){var r=$!==null&&($.f&Pe)!==0;if(!r&&!ce?.includes(e)){var s=C.deps;if((C.f&nn)!==0)e.rv<ut&&(e.rv=ut,V===null&&s!==null&&s[Q]===e?Q++:V===null?V=[e]:(!ge||!V.includes(e))&&V.push(e));else{(C.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[C]:i.includes(C)||i.push(C)}}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&ee)===0&&(a.f^=ee)}if(Le){if(we.has(e))return we.get(e);if(n){a=e;var l=a.v;return((a.f&B)===0&&a.reactions!==null||Ir(a))&&(l=Sn(a)),we.set(a,l),l}}else n&&(a=e,pt(a)&&or(a));if((e.f&xe)!==0)throw e.v;return e.v}function Ir(e){if(e.v===U)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(we.has(t)||(t.f&X)!==0&&Ir(t))return!0;return!1}function j(e){var t=oe;try{return oe=!0,e()}finally{oe=t}}const js=-7169;function W(e,t){e.f=e.f&js|t}function qs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ve in e)ln(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ve in n&&ln(n)}}}function ln(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ln(e[r],t)}catch{}const n=Gn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ur(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const Us=["touchstart","touchmove"];function Bs(e){return Us.includes(e)}const Hs=new Set,Hn=new Set;function Vs(e,t,n,r={}){function s(i){if(r.capture||st.call(t,i),!i.cancelBubble)return Ut(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ar(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function J(e,t,n,r,s){var i={capture:r,passive:s},a=Vs(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&yr(()=>{t.removeEventListener(e,a,i)})}let Vn=null;function st(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Vn=e;var a=0,o=Vn===e&&e.__root;if(o){var l=s.indexOf(o);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(a=l)}if(i=s[a]||e.target,i!==t){Ct(e,"currentTarget",{configurable:!0,get(){return i||n}});var f=C,v=$;fe(null),ye(null);try{for(var _,d=[];i!==null;){var c=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];if(y!=null&&(!i.disabled||e.target===i))if(pn(y)){var[h,...m]=y;h.apply(i,[e,...m])}else y.call(i,e)}catch(w){_?d.push(w):_=w}if(e.cancelBubble||c===t||c===null)break;i=c}if(_){for(let w of d)queueMicrotask(()=>{throw w});throw _}}finally{e.__root=t,delete e.currentTarget,fe(f),ye(v)}}}function Ks(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function on(e,t){var n=$;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&us)!==0,r=(t&fs)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ks(i?e:"<!>"+e),n||(s=Nt(s)));var a=r||dr?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=Nt(a),l=a.lastChild;on(o,l)}else on(a,a);return a}}function Cn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=_t();return e.append(t,n),on(t,n),e}function O(e,t){e!==null&&e.before(t)}function z(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Ws(e,t){return Ys(e,t)}const je=new Map;function Ys(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:a=!0}){ks();var o=new Set,l=v=>{for(var _=0;_<v.length;_++){var d=v[_];if(!o.has(d)){o.add(d);var c=Bs(d);t.addEventListener(d,st,{passive:c});var y=je.get(d);y===void 0?(document.addEventListener(d,st,{passive:c}),je.set(d,1)):je.set(d,y+1)}}};l(hn(Hs)),Hn.add(l);var u=void 0,f=Ts(()=>{var v=n??t.appendChild(_t());return ot(()=>{if(i){Te({});var _=F;_.c=i}s&&(r.$$events=s),u=e(v,r)||{},i&&Ie()}),()=>{for(var _ of o){t.removeEventListener(_,st);var d=je.get(_);--d===0?(document.removeEventListener(_,st),je.delete(_)):je.set(_,d)}Hn.delete(l),v!==n&&v.parentNode?.removeChild(v)}});return zs.set(u,f),u}let zs=new WeakMap;function ue(e,t,n=!1){var r=e,s=null,i=null,a=U,o=n?wn:0,l=!1;const u=(d,c=!0)=>{l=!0,_(c,d)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var d=a?s:i,c=a?i:s;d&&An(d),c&&kn(c,()=>{a?i=null:s=null})}const _=(d,c)=>{if(a!==(a=d)){var y=hr(),h=r;if(y&&(f=document.createDocumentFragment(),f.append(h=_t())),a?s??=c&&ot(()=>c(h)):i??=c&&ot(()=>c(h)),y){var m=M,w=a?s:i,b=a?i:s;w&&m.skipped_effects.delete(w),b&&m.skipped_effects.add(b),m.add_callback(v)}else v()}};br(()=>{l=!1,t(u),l||_(null,null)},o)}function Lr(e,t){return t}function Gs(e,t,n){for(var r=e.items,s=[],i=t.length,a=0;a<i;a++)$n(t[a].e,s,!0);var o=i>0&&s.length===0&&n!==null;if(o){var l=n.parentNode;$s(l),l.append(n),r.clear(),le(e,t[0].prev,t[i-1].next)}kr(s,()=>{for(var u=0;u<i;u++){var f=t[u];o||(r.delete(f.k),le(e,f.prev,f.next)),ve(f.e,!o)}})}function Pn(e,t,n,r,s,i=null){var a=e,o={flags:t,items:new Map,first:null},l=(t&er)!==0;if(l){var u=e;a=u.appendChild(_t())}var f=null,v=!1,_=new Map,d=xn(()=>{var m=n();return pn(m)?m:m==null?[]:hn(m)}),c,y;function h(){Qs(y,c,o,_,a,s,t,r,n),i!==null&&(c.length===0?f?An(f):f=ot(()=>i(a)):f!==null&&kn(f,()=>{f=null}))}br(()=>{y??=$,c=p(d);var m=c.length;if(!(v&&m===0)){v=m===0;var w,b,P,I;if(hr()){var x=new Set,g=M;for(b=0;b<m;b+=1){P=c[b],I=r(P,b);var S=o.items.get(I)??_.get(I);S?(t&(Ot|Rt))!==0&&Nr(S,P,b,t):(w=Mr(null,o,null,null,P,I,b,s,t,n,!0),_.set(I,w)),x.add(I)}for(const[T,H]of o.items)x.has(T)||g.skipped_effects.add(H.e);g.add_callback(h)}else h();p(d)}})}function Qs(e,t,n,r,s,i,a,o,l){var u=(a&ss)!==0,f=(a&(Ot|Rt))!==0,v=t.length,_=n.items,d=n.first,c=d,y,h=null,m,w=[],b=[],P,I,x,g;if(u)for(g=0;g<v;g+=1)P=t[g],I=o(P,g),x=_.get(I),x!==void 0&&(x.a?.measure(),(m??=new Set).add(x));for(g=0;g<v;g+=1){if(P=t[g],I=o(P,g),x=_.get(I),x===void 0){var S=r.get(I);if(S!==void 0){r.delete(I),_.set(I,S);var T=h?h.next:c;le(n,h,S),le(n,S,T),Jt(S,T,s),h=S}else{var H=c?c.e.nodes_start:s;h=Mr(H,n,h,h===null?n.first:h.next,P,I,g,i,a,l)}_.set(I,h),w=[],b=[],c=h.next;continue}if(f&&Nr(x,P,g,a),(x.e.f&ie)!==0&&(An(x.e),u&&(x.a?.unfix(),(m??=new Set).delete(x))),x!==c){if(y!==void 0&&y.has(x)){if(w.length<b.length){var ne=b[0],E;h=ne.prev;var N=w[0],D=w[w.length-1];for(E=0;E<w.length;E+=1)Jt(w[E],ne,s);for(E=0;E<b.length;E+=1)y.delete(b[E]);le(n,N.prev,D.next),le(n,h,N),le(n,D,ne),c=ne,h=D,g-=1,w=[],b=[]}else y.delete(x),Jt(x,c,s),le(n,x.prev,x.next),le(n,x,h===null?n.first:h.next),le(n,h,x),h=x;continue}for(w=[],b=[];c!==null&&c.k!==I;)(c.e.f&ie)===0&&(y??=new Set).add(c),b.push(c),c=c.next;if(c===null)continue;x=c}w.push(x),h=x,c=x.next}if(c!==null||y!==void 0){for(var ae=y===void 0?[]:hn(y);c!==null;)(c.e.f&ie)===0&&ae.push(c),c=c.next;var Y=ae.length;if(Y>0){var me=(a&er)!==0&&v===0?s:null;if(u){for(g=0;g<Y;g+=1)ae[g].a?.measure();for(g=0;g<Y;g+=1)ae[g].a?.fix()}Gs(n,ae,me)}}u&&ar(()=>{if(m!==void 0)for(x of m)x.a?.apply()}),e.first=n.first&&n.first.e,e.last=h&&h.e;for(var Me of r.values())ve(Me.e);r.clear()}function Nr(e,t,n,r){(r&Ot)!==0&&lt(e.v,t),(r&Rt)!==0?lt(e.i,n):e.i=n}function Mr(e,t,n,r,s,i,a,o,l,u,f){var v=(l&Ot)!==0,_=(l&is)===0,d=v?_?se(s,!1,!1):at(s):s,c=(l&Rt)===0?a:at(a),y={i:c,v:d,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var h=document.createDocumentFragment();h.append(e=_t())}return y.e=ot(()=>o(e,d,c,u),cs),y.e.prev=n&&n.e,y.e.next=r&&r.e,n===null?f||(t.first=y):(n.next=y,n.e.next=y.e),r!==null&&(r.prev=y,r.e.prev=y.e),y}finally{}}function Jt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var a=qt(i);s.before(i),i=a}}function le(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Kn=[...` 	
\r\f¬†\v\uFEFF`];function Js(e,t,n){var r=e==null?"":""+e;if(n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,a=0;(a=r.indexOf(s,a))>=0;){var o=a+i;(a===0||Kn.includes(r[a-1]))&&(o===r.length||Kn.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function ft(e,t,n,r,s,i){var a=e.__className;if(a!==n||a===void 0){var o=Js(n,r,i);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(i&&s!==i)for(var l in i){var u=!!i[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return i}function un(e,t,n=t){var r=new WeakSet;gr(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=Xt(e)?Zt(i):i,n(i),M!==null&&r.add(M),await Rs(),i!==(i=t())){var a=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(o,e.value.length))}}),j(t)==null&&e.value&&(n(Xt(e)?Zt(e.value):e.value),M!==null&&r.add(M)),Bt(()=>{var s=t();if(e===document.activeElement){var i=St??M;if(r.has(i))return}Xt(e)&&s===Zt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Xs(e,t,n=t){gr(e,"change",r=>{var s=r?e.defaultChecked:e.checked;n(s)}),j(t)==null&&n(e.checked),Bt(()=>{var r=t();e.checked=!!r})}function Xt(e){var t=e.type;return t==="number"||t==="range"}function Zt(e){return e===""?null:+e}function Zs(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function Xe(e=!1){const t=F,n=t.l.u;if(!n)return;let r=()=>qs(t.s);if(e){let s=0,i={};const a=En(()=>{let o=!1;const l=t.s;for(const u in l)l[u]!==i[u]&&(i[u]=l[u],o=!0);return o&&s++,s});r=()=>p(a)}n.b.length&&Ps(()=>{Wn(t,r),Pt(n.b)}),an(()=>{const s=j(()=>n.m.map(Vr));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&an(()=>{Wn(t,r),Pt(n.a)})}function Wn(e,t){if(e.l.s)for(const n of e.l.s)p(n);t()}function Dr(e,t,n){if(e==null)return t(void 0),He;const r=j(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const qe=[];function Ne(e,t=He){let n=null;const r=new Set;function s(o){if(nr(e,o)&&(e=o,n)){const l=!qe.length;for(const u of r)u[1](),qe.push(u,e);if(l){for(let u=0;u<qe.length;u+=2)qe[u][0](qe[u+1]);qe.length=0}}}function i(o){s(o(e))}function a(o,l=He){const u=[o,l];return r.add(u),r.size===1&&(n=t(s,i)||He),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:a}}function Fr(e){let t;return Dr(e,n=>t=n)(),t}let xt=!1,fn=Symbol();function K(e,t,n){const r=n[t]??={store:null,source:se(void 0),unsubscribe:He};if(r.store!==e&&!(fn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=He;else{var s=!0;r.unsubscribe=Dr(e,i=>{s?r.source.v=i:k(r.source,i)}),s=!1}return e&&fn in n?Fr(e):p(r.source)}function en(e,t){return e.set(t),t}function Ze(){const e={};function t(){yr(()=>{for(var n in e)e[n].unsubscribe();Ct(e,fn,{enumerable:!1,value:!0})})}return[e,t]}function ei(e){var t=xt;try{return xt=!1,[e(),xt]}finally{xt=t}}function Yn(e,t,n,r){var s=!Je||(n&as)!==0,i=(n&os)!==0,a=r,o=!0,l=()=>(o&&(o=!1,a=r),a),u;{var f=Ve in e||Yr in e;u=Be(e,t)?.set??(f&&t in e?w=>e[t]=w:void 0)}var v,_=!1;[v,_]=ei(()=>e[t]),v===void 0&&r!==void 0&&(v=l(),u&&(s&&es(),u(v)));var d;if(s?d=()=>{var w=e[t];return w===void 0?l():(o=!0,w)}:d=()=>{var w=e[t];return w!==void 0&&(a=void 0),w===void 0?a:w},s&&(n&ls)===0)return d;if(u){var c=e.$$legacy;return(function(w,b){return arguments.length>0?((!s||!b||c||_)&&u(b?d():w),w):d()})}var y=!1,h=xn(()=>(y=!1,d()));p(h);var m=$;return(function(w,b){if(arguments.length>0){const P=b?p(h):s&&i?Ue(w):w;return k(h,P),y=!0,a!==void 0&&(a=P),w}return Le&&y||(m.f&Pe)!==0?h.v:p(h)})}function Tn(e){F===null&&Zn(),Je&&F.l!==null?ti(F).m.push(e):an(()=>{const t=j(e);if(typeof t=="function")return t})}function In(e){F===null&&Zn(),Tn(()=>()=>j(e))}function ti(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const ni="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ni);ds();const ct=Ne([]),Ln=Ne(0),Dt=Ne("study"),Ye=Ne(null),cn=Ne(.8),$t=Ne(!1),At=Ne(0);async function ri(){try{const e=await fetch("lessons.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();ct.set(t),t.length>0&&await Or(0)}catch(e){console.error("Could not fetch lessons.json:",e),ct.set([])}}async function Or(e){const t=si(ct);if(!t[e]){console.error(`Lesson with index ${e} not found in manifest.`),Ye.set(null);return}const n=t[e].path;try{const r=await fetch(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();Ye.set(s),Ln.set(e)}catch(r){console.error(`Could not fetch ${n}:`,r),Ye.set(null)}}function si(e){let t;return e.subscribe(n=>t=n)(),t}var ii=R("<button></button>"),ai=R('<nav class="days-nav svelte-1upqezx"><!></nav>');function li(e,t){Te(t,!1);const[n,r]=Ze(),s=()=>K(Ln,"$currentLessonIndex",n),i=()=>K(ct,"$lessons",n);function a(f){f!==s()&&Or(f)}Xe();var o=ai(),l=A(o);{var u=f=>{var v=Cn(),_=Ke(v);Pn(_,1,i,Lr,(d,c,y)=>{var h=ii();let m;h.textContent=`Day ${y+1}`,Se(w=>m=ft(h,1,"day-btn svelte-1upqezx",null,m,w),[()=>({active:y===s()})]),J("click",h,()=>a(y)),O(d,h)}),O(f,v)};ue(l,f=>{i().length>0&&f(u)})}O(e,o),Ie(),r()}var oi=R("<button> </button>"),ui=R('<div class="mode-selector svelte-v21mrc"></div>');function fi(e,t){Te(t,!1);const[n,r]=Ze(),s=()=>K(Dt,"$currentMode",n),i=[{id:"study",name:"Â≠¶‰π†Ê®°Âºè"},{id:"test",name:"ÈªòÂÜôÊ®°Âºè"},{id:"practice",name:"ÁªÉ‰π†Ê®°Âºè"}];function a(l){Dt.set(l)}Xe();var o=ui();Pn(o,5,()=>i,Lr,(l,u)=>{var f=oi();let v;var _=A(f);Se(d=>{v=ft(f,1,"mode-btn svelte-v21mrc",null,v,d),z(_,p(u).name)},[()=>({active:p(u).id===s()})]),J("click",f,()=>a(p(u).id)),O(l,f)}),O(e,o),Ie(),r()}const ci="AIzaSyDdK7FPe-yfShSIYvF8nXW82K-SZcuLCQo",vi=`https://texttospeech.googleapis.com/v1/text:synthesize?key=${ci}`,tn=new Map,vn=new(window.AudioContext||window.webkitAudioContext);async function di(e,t,n=1){const r=`${t}:${n}:${e}`;if(tn.has(r))return tn.get(r);const i=await fetch(vi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:e},voice:{languageCode:t,name:{"fi-FI":{name:"fi-FI-Wavenet-A"},"zh-CN":{name:"cmn-CN-Wavenet-A"}}[t].name},audioConfig:{audioEncoding:"MP3",speakingRate:n}})});if(!i.ok){const f=await i.json();throw new Error(`Google TTS API error: ${f.error.message}`)}const a=await i.json(),o=atob(a.audioContent),l=new Uint8Array(o.length).map((f,v)=>o.charCodeAt(v)).buffer,u=await vn.decodeAudioData(l);return tn.set(r,u),u}function _i(e,t){const n=vn.createBufferSource();return n.buffer=e,n.connect(vn.destination),n.onended=t,n.start(0),n}async function dn(e,t,n=1,r=()=>{}){try{const s=await di(e,t,n);return _i(s,r)}catch(s){console.error("Failed to fetch and play TTS audio:",s),r()}}var pi=R('<span class="speaker-icon svelte-qtq5dx" role="button" tabindex="0">üîä</span>');function _n(e,t){Te(t,!1);const[n,r]=Ze(),s=()=>K($t,"$enableSpellingMode",n),i=()=>K(cn,"$finnishRate",n);let a=Yn(t,"text",8),o=Yn(t,"lang",8,"fi-FI"),l;const u=At.subscribe(m=>{l=m});let f=!1,v=[];function _(m,w){try{const b=new Audio(m);b.onended=w,b.onerror=()=>{w()},b.play(),v.push(b)}catch{w()}}function d(){v.forEach(m=>{typeof m.stop=="function"?m.stop():typeof m.pause=="function"&&m.pause()}),v=[],f=!1}async function c(){if(f){d();return}f=!0;const m=s(),w=i();if(m&&o()==="fi-FI"){const b=[];b.push({type:"tts",txt:a(),ln:"fi-FI",rt:w});const P=a().toUpperCase().split("");P.forEach((g,S)=>{const T=encodeURIComponent(g);b.push({type:"audio",path:`audio/letters/${T}.wav`}),S<P.length-1&&b.push({type:"pause"})}),b.push({type:"tts",txt:a(),ln:"fi-FI",rt:w});let I=0;const x=async()=>{if(I>=b.length||!f){d();return}const g=b[I],S=()=>{I++,x()};if(g.type==="pause")setTimeout(S,l);else if(g.type==="tts"){const T=await dn(g.txt,g.ln,g.rt,S);T&&v.push(T)}else g.type==="audio"&&_(g.path,S)};x()}else{const b=await dn(a(),o(),w,()=>d());b&&v.push(b)}}function y(m){m.key==="Enter"&&c()}In(()=>{d(),u()}),Xe();var h=pi();J("click",h,Zs(c)),J("keypress",h,y),O(e,h),Ie(),r()}var hi=R('<div><p class="finnish svelte-h3ij1n"><span> </span> <!></p> <p class="chinese svelte-h3ij1n"> </p></div>'),gi=R('<div class="header-controls svelte-h3ij1n"><h2 class="day-title svelte-h3ij1n"> </h2> <div class="playback-controls svelte-h3ij1n"><div class="rate-slider svelte-h3ij1n"><span>ËØ≠ÈÄü:</span> <input type="range" min="0.5" max="1.2" step="0.1"/> <span> </span></div> <div class="spelling-toggle svelte-h3ij1n"><input type="checkbox" id="spelling-mode"/> <label for="spelling-mode" class="svelte-h3ij1n">ÊãºÂÜôÊ®°Âºè</label></div> <div class="rate-slider svelte-h3ij1n"><span>ÂÅúÈ°ø:</span> <input type="range" min="0" max="500" step="10"/> <span> </span></div> <button class="btn-play-all svelte-h3ij1n"> </button></div></div> <div class="entries-grid svelte-h3ij1n"></div>',1),wi=R("<p>Loading lesson...</p>"),yi=R('<div class="study-view svelte-h3ij1n"><!></div>');function mi(e,t){Te(t,!1);const[n,r]=Ze(),s=()=>K(cn,"$finnishRate",n),i=()=>K(Ye,"$currentLessonData",n),a=()=>K($t,"$enableSpellingMode",n),o=()=>K(At,"$spellingPause",n);let l;const u=At.subscribe(g=>{l=g});let f=se(!1),v=[],_=0,d=se(""),c=null;function y(g,S){try{const T=new Audio(g);T.onended=S,T.onerror=()=>{console.error(`Error playing audio file: ${g}`),S()},T.play(),c=T}catch(T){console.error(`Failed to create audio object for path: ${g}`,T),S()}}async function h(){if(_<v.length&&p(f)){const g=v[_],S=()=>{_++,h()};if(g.type==="pause"){setTimeout(S,l);return}k(d,g.finnishForHighlight),g.type==="tts"?c=await dn(g.text,g.lang,g.rate,S):g.type==="audio"&&y(g.path,S)}else w()}function m(){if(p(f))w();else{v=[];const g=Fr($t),S=s();i().entries.forEach(T=>{const H=T.finnish;if(v.push({type:"tts",text:H,lang:"fi-FI",finnishForHighlight:H,rate:S}),g){const ne=H.toUpperCase().split("");ne.forEach((E,N)=>{const D=encodeURIComponent(E);v.push({type:"audio",path:`audio/letters/${D}.wav`,finnishForHighlight:H}),N<ne.length-1&&v.push({type:"pause"})}),v.push({type:"tts",text:H,lang:"fi-FI",finnishForHighlight:H,rate:S})}v.push({type:"tts",text:T.chinese,lang:"zh-CN",finnishForHighlight:H,rate:1})}),k(f,!0),_=0,h()}}function w(){k(f,!1),k(d,""),c&&(typeof c.stop=="function"?c.stop():typeof c.pause=="function"&&c.pause(),c=null)}In(()=>{w(),u()}),Xe();var b=yi(),P=A(b);{var I=g=>{var S=gi(),T=Ke(S),H=A(T),ne=A(H),E=L(H,2),N=A(E),D=L(A(N),2),ae=L(D,2),Y=A(ae),me=L(N,2),Me=A(me),et=L(me,2),ht=L(A(et),2),Ht=L(ht,2),gt=A(Ht),wt=L(et,2),De=A(wt),yt=L(T,2);Pn(yt,5,()=>i().entries,G=>G.finnish,(G,be)=>{var tt=hi();let mt;var Fe=A(tt),nt=A(Fe),Vt=A(nt),bt=L(nt,2);_n(bt,{get text(){return p(be).finnish},lang:"fi-FI"});var Kt=L(Fe,2),q=A(Kt);Se(re=>{mt=ft(tt,1,"entry svelte-h3ij1n",null,mt,re),z(Vt,p(be).finnish),z(q,p(be).chinese)},[()=>({playing:p(be).finnish===p(d)})]),O(G,tt)}),Se(G=>{z(ne,i().day),z(Y,`${G??""}x`),z(gt,`${o()??""}ms`),z(De,p(f)?"ÂÅúÊ≠¢ÊúóËØª":"Êï¥ËØæÂæ™ÁéØÊúóËØª")},[()=>s().toFixed(1)]),un(D,s,G=>en(cn,G)),Xs(Me,a,G=>en($t,G)),un(ht,o,G=>en(At,G)),J("click",wt,m),O(g,S)},x=g=>{var S=wi();O(g,S)};ue(P,g=>{i()?g(I):g(x,!1)})}O(e,b),Ie(),r()}var bi=R('<div class="card completion-card svelte-1c5xhip"><p class="svelte-1c5xhip">üéâ ÊÅ≠ÂñúÔºÅÊÇ®Â∑≤ÂÆåÊàêÊú¨ËØæÁöÑÊâÄÊúâÁªÉ‰π†ÔºÅ</p> <button class="btn svelte-1c5xhip">ÈáçÊñ∞ÂºÄÂßã</button></div>'),Ei=R('<div class="translation-container svelte-1c5xhip"><p> </p> <button class="btn-toggle svelte-1c5xhip"> </button></div>'),xi=R('<button class="btn check-btn svelte-1c5xhip">Ê£ÄÊü•</button>'),Si=R('<div><p class="svelte-1c5xhip"> </p> <p class="correct-answer svelte-1c5xhip"><span> </span> <!></p></div>'),ki=R('<div class="card svelte-1c5xhip"><p class="question svelte-1c5xhip"><span> </span> <!></p> <!> <input id="answer-input" type="text" placeholder="ËæìÂÖ•‰Ω†ÁöÑÁ≠îÊ°à..." class="svelte-1c5xhip"/> <!> <!> <div class="navigation svelte-1c5xhip"><button class="btn svelte-1c5xhip">‰∏ä‰∏ÄÈ¢ò</button> <span> </span> <button class="btn svelte-1c5xhip"> </button></div></div>'),$i=R('<div class="practice-view svelte-1c5xhip"><!></div>');function Ai(e,t){Te(t,!1);const[n,r]=Ze(),s=()=>K(Ln,"$currentLessonIndex",n),i=()=>K(Dt,"$currentMode",n),a=()=>K(Ye,"$currentLessonData",n);let o=se([]),l=se(0),u=se(""),f=se({message:"",isCorrect:!1,showCorrect:!1,correctAnswer:""}),v=se(!1),_=se(!1);function d(E){let N=E.length,D;for(;N!==0;)D=Math.floor(Math.random()*N),N--,[E[N],E[D]]=[E[D],E[N]];return E}function c(E,N,D){const Y=JSON.parse(localStorage.getItem("suomenProgress")||"{}")?.[E]?.[N];Y&&Y.shuffledEntries?(k(o,Y.shuffledEntries),k(l,Y.currentIndex||0)):(k(o,d([...D])),k(l,0),y()),k(_,p(l)>=p(o).length)}function y(){const E=s(),N=i(),D=JSON.parse(localStorage.getItem("suomenProgress")||"{}");D[E]||(D[E]={}),D[E][N]={shuffledEntries:p(o),currentIndex:p(l)},localStorage.setItem("suomenProgress",JSON.stringify(D))}let h=se();function m(){if(!p(h))return;const E=i()==="test"?p(h).chinese:p(h).finnish;p(u).trim().toLowerCase()===E.trim().toLowerCase()?(k(f,{message:"Ê≠£Á°Æ!",isCorrect:!0,showCorrect:!0,correctAnswer:E}),setTimeout(()=>{w()},800)):k(f,{message:"ÈîôËØØ. Ê≠£Á°ÆÁ≠îÊ°à:",isCorrect:!1,showCorrect:!0,correctAnswer:E})}function w(){p(l)<p(o).length-1?(Gt(l),y(),P()):(Gt(l),y(),k(_,!0))}function b(){p(l)>0&&(Gt(l,-1),y(),P())}function P(){k(u,""),k(f,{message:"",isCorrect:!1,showCorrect:!1,correctAnswer:""}),k(v,!1),setTimeout(()=>{const E=document.getElementById("answer-input");E&&E.focus()},0)}function I(){k(o,d([...a().entries])),k(l,0),k(_,!1),y(),P()}function x(E){E.key==="Alt"&&i()==="practice"&&(E.preventDefault(),k(v,!0))}function g(E){E.key==="Alt"&&i()==="practice"&&k(v,!1)}Tn(()=>{window.addEventListener("keydown",x),window.addEventListener("keyup",g)}),In(()=>{window.removeEventListener("keydown",x),window.removeEventListener("keyup",g)}),jn(()=>(a(),s(),i()),()=>{a()&&(c(s(),i(),a().entries),P())}),jn(()=>(p(o),p(l)),()=>{k(h,p(o)[p(l)])}),Is(),Xe();var S=$i(),T=A(S);{var H=E=>{var N=bi(),D=L(A(N),2);J("click",D,I),O(E,N)},ne=E=>{var N=Cn(),D=Ke(N);{var ae=Y=>{var me=ki(),Me=A(me),et=A(Me),ht=A(et),Ht=L(et,2);_n(Ht,{get text(){return p(h),j(()=>p(h).finnish)}});var gt=L(Me,2);{var wt=q=>{var re=Ei(),Oe=A(re);let rt;var Wt=A(Oe),Re=L(Oe,2),Et=A(Re);Se(Yt=>{rt=ft(Oe,1,"translation svelte-1c5xhip",null,rt,Yt),z(Wt,(p(h),j(()=>p(h).chinese))),z(Et,p(v)?"ÈöêËóèÁøªËØë":"Êåâ‰ΩèÊòæÁ§∫ÁøªËØë")},[()=>({visible:p(v)})]),J("mousedown",Re,()=>k(v,!0)),J("mouseup",Re,()=>k(v,!1)),J("mouseleave",Re,()=>k(v,!1)),O(q,re)};ue(gt,q=>{i()==="practice"&&q(wt)})}var De=L(gt,2),yt=L(De,2);{var G=q=>{var re=xi();J("click",re,m),O(q,re)};ue(yt,q=>{p(f),j(()=>!p(f).showCorrect)&&q(G)})}var be=L(yt,2);{var tt=q=>{var re=Si();let Oe;var rt=A(re),Wt=A(rt),Re=L(rt,2),Et=A(Re),Yt=A(Et),Rr=L(Et,2);_n(Rr,{get text(){return p(h),j(()=>p(h).finnish)}}),Se(jr=>{Oe=ft(re,1,"feedback svelte-1c5xhip",null,Oe,jr),z(Wt,(p(f),j(()=>p(f).message))),z(Yt,(p(f),j(()=>p(f).correctAnswer)))},[()=>({correct:p(f).isCorrect,incorrect:!p(f).isCorrect})]),O(q,re)};ue(be,q=>{p(f),j(()=>p(f).showCorrect)&&q(tt)})}var mt=L(be,2),Fe=A(mt),nt=L(Fe,2),Vt=A(nt),bt=L(nt,2),Kt=A(bt);Se(()=>{z(ht,(p(h),j(()=>p(h).finnish))),De.disabled=(p(f),j(()=>p(f).showCorrect)),Fe.disabled=p(l)===0,z(Vt,`${p(l)+1} / ${p(o),j(()=>p(o).length)??""}`),z(Kt,(p(f),j(()=>p(f).showCorrect?"‰∏ã‰∏ÄÈ¢ò":"Ë∑≥Ëøá")))}),un(De,()=>p(u),q=>k(u,q)),J("keydown",De,q=>q.key==="Enter"&&m()),J("click",Fe,b),J("click",bt,w),O(Y,me)};ue(D,Y=>{p(h)&&Y(ae)},!0)}O(E,N)};ue(T,E=>{p(_)?E(H):E(ne,!1)})}O(e,S),Ie(),r()}var Ci=R("<p>Loading day's content...</p>"),Pi=R('<!> <!> <div class="content-area"><!></div>',1),Ti=R("<p>Loading lesson manifest...</p>"),Ii=R('<header class="svelte-nwa0j8"><h1 class="svelte-nwa0j8">Suomen Oppiminen</h1> <p class="svelte-nwa0j8">Ëä¨ÂÖ∞ËØ≠Â≠¶‰π†Á¨îËÆ∞</p></header> <main class="svelte-nwa0j8"><!></main> <footer class="svelte-nwa0j8"><p>Opetellaan suomea yhdess√§!</p></footer>',1);function Li(e,t){Te(t,!1);const[n,r]=Ze(),s=()=>K(ct,"$lessons",n),i=()=>K(Ye,"$currentLessonData",n),a=()=>K(Dt,"$currentMode",n);Tn(()=>{ri()}),Xe();var o=Ii(),l=L(Ke(o),2),u=A(l);{var f=_=>{var d=Pi(),c=Ke(d);li(c,{});var y=L(c,2);fi(y,{});var h=L(y,2),m=A(h);{var w=P=>{var I=Cn(),x=Ke(I);{var g=T=>{mi(T,{})},S=T=>{Ai(T,{})};ue(x,T=>{a()==="study"?T(g):T(S,!1)})}O(P,I)},b=P=>{var I=Ci();O(P,I)};ue(m,P=>{i()?P(w):P(b,!1)})}O(_,d)},v=_=>{var d=Ti();O(_,d)};ue(u,_=>{s().length>0?_(f):_(v,!1)})}O(e,o),Ie(),r()}Ws(Li,{target:document.getElementById("app")});
