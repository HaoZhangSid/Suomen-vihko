(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Yn=!1;var dn=Array.isArray,Fr=Array.prototype.indexOf,_n=Array.from,Ct=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,jr=Object.prototype,qr=Array.prototype,Wn=Object.getPrototypeOf,In=Object.isExtensible;const Ve=()=>{};function Ur(e){return e()}function It(e){for(var t=0;t<e.length;t++)e[t]()}function Hr(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const ee=2,zn=4,Rt=8,Ge=16,de=32,Ae=64,Qn=128,ne=256,Lt=512,B=1024,re=2048,_e=4096,le=8192,Ce=16384,pn=32768,hn=65536,Ln=1<<17,Vr=1<<18,ct=1<<19,Gn=1<<20,rn=1<<21,gn=1<<22,ke=1<<23,Be=Symbol("$state"),Br=Symbol("legacy props"),wn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Kr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Jn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Yr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Wr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function zr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function es(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const jt=1,qt=2,Xn=4,ts=8,ns=16,rs=2,ss=4,is=8,ls=1,as=2,V=Symbol();let os=!1;function Zn(e){return e===this.v}function er(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function tr(e){return!er(e,this.v)}let Je=!1,us=!1;function fs(){Je=!0}let O=null;function Nt(e){O=e}function Ie(e,t=!1,n){O={p:O,c:null,e:null,s:e,x:null,l:Je&&!t?{s:null,u:null,$:[]}:null}}function Le(e){var t=O,n=t.e;if(n!==null){t.e=null;for(var r of n)wr(r)}return O=t.p,{}}function vt(){return!Je||O!==null&&O.l===null}const cs=new WeakMap;function vs(e){var t=$;if(t===null)return P.f|=ke,e;if((t.f&pn)===0){if((t.f&Qn)===0)throw!t.parent&&e instanceof Error&&nr(e),e;t.b.error(e)}else mn(e,t)}function mn(e,t){for(;t!==null;){if((t.f&Qn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&nr(e),e}function nr(e){const t=cs.get(e);t&&(Ct(e,"message",{value:t.message}),Ct(e,"stack",{value:t.stack}))}let rt=[],sn=[];function rr(){var e=rt;rt=[],It(e)}function ds(){var e=sn;sn=[],It(e)}function sr(e){rt.length===0&&queueMicrotask(rr),rt.push(e)}function _s(){rt.length>0&&rr(),sn.length>0&&ds()}function ps(){for(var e=$.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Kr(),e}function yn(e){var t=ee|re,n=P!==null&&(P.f&ee)!==0?P:null;return $===null||n!==null&&(n.f&ne)!==0?t|=ne:$.f|=ct,{ctx:O,deps:null,effects:null,equals:Zn,f:t,fn:e,reactions:null,rv:0,v:V,wv:0,parent:n??$,ac:null}}function hs(e,t){let n=$;n===null&&Yr();var r=n.b,s=void 0,i=st(V),l=null,o=!P;return As(()=>{try{var a=e();l&&Promise.resolve(a).catch(()=>{})}catch(d){a=Promise.reject(d)}var u=()=>a;s=l?.then(u,u)??Promise.resolve(a),l=s;var f=N,_=r.pending;o&&(r.update_pending_count(1),_||f.increment());const v=(d,c=void 0)=>{l=null,_||f.activate(),c?c!==wn&&(i.f|=ke,it(i,c)):((i.f&ke)!==0&&(i.f^=ke),it(i,d)),o&&(r.update_pending_count(-1),_||f.decrement()),ar()};if(s.then(v,d=>v(null,d||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(a=>{function u(f){function _(){f===s?a(i):u(s)}f.then(_,_)}u(s)})}function bn(e){const t=yn(e);return t.equals=tr,t}function ir(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ve(t[n])}}function gs(e){for(var t=e.parent;t!==null;){if((t.f&ee)===0)return t;t=t.parent}return null}function En(e){var t,n=$;ye(gs(e));try{ir(e),t=Pr(e)}finally{ye(n)}return t}function lr(e){var t=En(e);if(e.equals(t)||(e.v=t,e.wv=$r()),!Ne){var n=(we||(e.f&ne)!==0)&&e.deps!==null?_e:B;Y(e,n)}}function ws(e,t,n){const r=vt()?yn:bn;if(t.length===0){n(e.map(r));return}var s=N,i=$,l=ms(),o=ps();Promise.all(t.map(a=>hs(a))).then(a=>{s?.activate(),l();try{n([...e.map(r),...a])}catch(u){(i.f&Ce)===0&&mn(u,i)}s?.deactivate(),ar()}).catch(a=>{o.error(a)})}function ms(){var e=$,t=P,n=O,r=N;return function(){ye(e),fe(t),Nt(n),r?.activate()}}function ar(){ye(null),fe(null),Nt(null)}const Gt=new Set;let N=null,St=null,Nn=new Set,Dt=[];function or(){const e=Dt.shift();Dt.length>0&&queueMicrotask(or),e()}let Pe=[],Ut=null,ln=!1,$t=!1;class ze{current=new Map;#o=new Map;#s=new Set;#e=0;#u=null;#f=!1;#n=[];#i=[];#r=[];#t=[];#l=[];#c=[];#v=[];skipped_effects=new Set;process(t){Pe=[],St=null;for(const s of t)this.#_(s);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#l=[],St=N,N=null,Dn(n),Dn(r),N===null?N=this:Gt.delete(this),this.#u?.resolve()}else this.#a(this.#r),this.#a(this.#t),this.#a(this.#l);for(const s of this.#n)Te(s);for(const s of this.#i)Te(s);this.#n=[],this.#i=[]}#_(t){t.f^=B;for(var n=t.first;n!==null;){var r=n.f,s=(r&(de|Ae))!==0,i=s&&(r&B)!==0,l=i||(r&le)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){if(s)n.f^=B;else if((r&zn)!==0)this.#t.push(n);else if((r&B)===0)if((r&gn)!==0){var o=n.b?.pending?this.#i:this.#n;o.push(n)}else _t(n)&&((n.f&Ge)!==0&&this.#l.push(n),Te(n));var a=n.first;if(a!==null){n=a;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}}#a(t){for(const n of t)((n.f&re)!==0?this.#c:this.#v).push(n),Y(n,B);t.length=0}capture(t,n){this.#o.has(t)||this.#o.set(t,n),this.current.set(t,t.v)}activate(){N=this}deactivate(){N=null,St=null;for(const t of Nn)if(Nn.delete(t),t(),N!==null)break}neuter(){this.#f=!0}flush(){Pe.length>0?ur():this.#d(),N===this&&(this.#e===0&&Gt.delete(this),this.deactivate())}#d(){if(!this.#f)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)Y(t,re),Qe(t);for(const t of this.#v)Y(t,_e),Qe(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#u??=Hr()).promise}static ensure(){if(N===null){const t=N=new ze;Gt.add(N),$t||ze.enqueue(()=>{N===t&&t.flush()})}return N}static enqueue(t){Dt.length===0&&queueMicrotask(or),Dt.unshift(t)}}function ys(e){var t=$t;$t=!0;try{for(var n;;){if(_s(),Pe.length===0&&(N?.flush(),Pe.length===0))return Ut=null,n;ur()}}finally{$t=t}}function ur(){var e=Ye;ln=!0;try{var t=0;for(Rn(!0);Pe.length>0;){var n=ze.ensure();if(t++>1e3){var r,s;bs()}n.process(Pe),me.clear()}}finally{ln=!1,Rn(e),Ut=null}}function bs(){try{Gr()}catch(e){mn(e,Ut)}}let xe=null;function Dn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ce|le))===0&&_t(r)&&(xe=[],Te(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Er(r):r.fn=null),xe?.length>0)){me.clear();for(const s of xe)Te(s);xe=[]}}xe=null}}function Qe(e){for(var t=Ut=e;t.parent!==null;){t=t.parent;var n=t.f;if(ln&&t===$&&(n&Ge)!==0)return;if((n&(Ae|de))!==0){if((n&B)===0)return;t.f^=B}}Pe.push(t)}const me=new Map;function st(e,t){var n={f:0,v:e,reactions:null,equals:Zn,rv:0,wv:0};return n}function ge(e,t){const n=st(e);return Ls(n),n}function ie(e,t=!1,n=!0){const r=st(e);return t||(r.equals=tr),Je&&n&&O!==null&&O.l!==null&&(O.l.s??=[]).push(r),r}function S(e,t,n=!1){P!==null&&(!oe||(P.f&Ln)!==0)&&vt()&&(P.f&(ee|Ge|gn|Ln))!==0&&!ce?.includes(e)&&es();let r=n?Ue(t):t;return it(e,r)}function it(e,t){if(!e.equals(t)){var n=e.v;Ne?me.set(e,t):me.set(e,n),e.v=t;var r=ze.ensure();r.capture(e,n),(e.f&ee)!==0&&((e.f&re)!==0&&En(e),Y(e,(e.f&ne)===0?B:_e)),e.wv=$r(),fr(e,re),vt()&&$!==null&&($.f&B)!==0&&($.f&(de|Ae))===0&&(te===null?Ns([e]):te.push(e))}return t}function Jt(e,t=1){var n=p(e),r=t===1?n++:n--;return S(e,n),r}function Xt(e){S(e,e.v+1)}function fr(e,t){var n=e.reactions;if(n!==null)for(var r=vt(),s=n.length,i=0;i<s;i++){var l=n[i],o=l.f;if(!(!r&&l===$)){var a=(o&re)===0;a&&Y(l,t),(o&ee)!==0?fr(l,_e):a&&((o&Ge)!==0&&xe!==null&&xe.push(l),Qe(l))}}}function Ue(e){if(typeof e!="object"||e===null||Be in e)return e;const t=Wn(e);if(t!==jr&&t!==qr)return e;var n=new Map,r=dn(e),s=ge(0),i=$e,l=o=>{if($e===i)return o();var a=P,u=$e;fe(null),qn(i);var f=o();return fe(a),qn(u),f};return r&&n.set("length",ge(e.length)),new Proxy(e,{defineProperty(o,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Xr();var f=n.get(a);return f===void 0?f=l(()=>{var _=ge(u.value);return n.set(a,_),_}):S(f,u.value,!0),!0},deleteProperty(o,a){var u=n.get(a);if(u===void 0){if(a in o){const f=l(()=>ge(V));n.set(a,f),Xt(s)}}else S(u,V),Xt(s);return!0},get(o,a,u){if(a===Be)return e;var f=n.get(a),_=a in o;if(f===void 0&&(!_||He(o,a)?.writable)&&(f=l(()=>{var d=Ue(_?o[a]:V),c=ge(d);return c}),n.set(a,f)),f!==void 0){var v=p(f);return v===V?void 0:v}return Reflect.get(o,a,u)},getOwnPropertyDescriptor(o,a){var u=Reflect.getOwnPropertyDescriptor(o,a);if(u&&"value"in u){var f=n.get(a);f&&(u.value=p(f))}else if(u===void 0){var _=n.get(a),v=_?.v;if(_!==void 0&&v!==V)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(o,a){if(a===Be)return!0;var u=n.get(a),f=u!==void 0&&u.v!==V||Reflect.has(o,a);if(u!==void 0||$!==null&&(!f||He(o,a)?.writable)){u===void 0&&(u=l(()=>{var v=f?Ue(o[a]):V,d=ge(v);return d}),n.set(a,u));var _=p(u);if(_===V)return!1}return f},set(o,a,u,f){var _=n.get(a),v=a in o;if(r&&a==="length")for(var d=u;d<_.v;d+=1){var c=n.get(d+"");c!==void 0?S(c,V):d in o&&(c=l(()=>ge(V)),n.set(d+"",c))}if(_===void 0)(!v||He(o,a)?.writable)&&(_=l(()=>ge(void 0)),S(_,Ue(u)),n.set(a,_));else{v=_.v!==V;var w=l(()=>Ue(u));S(_,w)}var h=Reflect.getOwnPropertyDescriptor(o,a);if(h?.set&&h.set.call(f,u),!v){if(r&&typeof a=="string"){var b=n.get("length"),g=Number(a);Number.isInteger(g)&&g>=b.v&&S(b,g+1)}Xt(s)}return!0},ownKeys(o){p(s);var a=Reflect.ownKeys(o).filter(_=>{var v=n.get(_);return v===void 0||v.v!==V});for(var[u,f]of n)f.v!==V&&!(u in o)&&a.push(u);return a},setPrototypeOf(){Zr()}})}var Mn,cr,vr,dr;function Es(){if(Mn===void 0){Mn=window,cr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;vr=He(t,"firstChild").get,dr=He(t,"nextSibling").get,In(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),In(n)&&(n.__t=void 0)}}function dt(e=""){return document.createTextNode(e)}function Mt(e){return vr.call(e)}function Ht(e){return dr.call(e)}function T(e,t){return Mt(e)}function Ke(e,t){{var n=Mt(e);return n instanceof Comment&&n.data===""?Ht(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=Ht(r);return r}function xs(e){e.textContent=""}function _r(){return!1}let On=!1;function ks(){On||(On=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Vt(e){var t=P,n=$;fe(null),ye(null);try{return e()}finally{fe(t),ye(n)}}function pr(e,t,n,r=n){e.addEventListener(t,()=>Vt(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),ks()}function hr(e){$===null&&P===null&&Qr(),P!==null&&(P.f&ne)!==0&&$===null&&zr(),Ne&&Wr()}function Ss(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function pe(e,t,n,r=!0){var s=$;s!==null&&(s.f&le)!==0&&(e|=le);var i={ctx:O,deps:null,nodes_start:null,nodes_end:null,f:e|re,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Te(i),i.f|=pn}catch(a){throw ve(i),a}else t!==null&&Qe(i);if(r){var l=i;if(n&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&(l.f&ct)===0&&(l=l.first),l!==null&&(l.parent=s,s!==null&&Ss(l,s),P!==null&&(P.f&ee)!==0&&(e&Ae)===0)){var o=P;(o.effects??=[]).push(l)}}return i}function gr(e){const t=pe(Rt,null,!1);return Y(t,B),t.teardown=e,t}function an(e){hr();var t=$.f,n=!P&&(t&de)!==0&&(t&pn)===0;if(n){var r=O;(r.e??=[]).push(e)}else return wr(e)}function wr(e){return pe(zn|Gn,e,!1)}function $s(e){return hr(),pe(Rt|Gn,e,!0)}function Ts(e){ze.ensure();const t=pe(Ae|ct,e,!0);return(n={})=>new Promise(r=>{n.outro?xn(t,()=>{ve(t),r(void 0)}):(ve(t),r(void 0))})}function Fn(e,t){var n=O,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Bt(()=>{e(),!r.ran&&(r.ran=!0,U(t))})}function Ps(){var e=O;Bt(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&B)!==0&&Y(n,_e),_t(n)&&Te(n),t.ran=!1}})}function As(e){return pe(gn|ct,e,!0)}function Bt(e,t=0){return pe(Rt|t,e,!0)}function Se(e,t=[],n=[]){ws(t,n,r=>{pe(Rt,()=>e(...r.map(p)),!0)})}function mr(e,t=0){var n=pe(Ge|t,e,!0);return n}function lt(e,t=!0){return pe(de|ct,e,!0,t)}function yr(e){var t=e.teardown;if(t!==null){const n=Ne,r=P;jn(!0),fe(null);try{t.call(null)}finally{jn(n),fe(r)}}}function br(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&Vt(()=>{s.abort(wn)});var r=n.next;(n.f&Ae)!==0?n.parent=null:ve(n,t),n=r}}function Cs(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&de)===0&&ve(t),t=n}}function ve(e,t=!0){var n=!1;(t||(e.f&Vr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Is(e.nodes_start,e.nodes_end),n=!0),br(e,t&&!n),Ot(e,0),Y(e,Ce);var r=e.transitions;if(r!==null)for(const i of r)i.stop();yr(e);var s=e.parent;s!==null&&s.first!==null&&Er(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Is(e,t){for(;e!==null;){var n=e===t?null:Ht(e);e.remove(),e=n}}function Er(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function xn(e,t){var n=[];kn(e,n,!0),xr(n,()=>{ve(e),t&&t()})}function xr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function kn(e,t,n){if((e.f&le)===0){if(e.f^=le,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&hn)!==0||(r.f&de)!==0;kn(r,t,i?n:!1),r=s}}}function Sn(e){kr(e,!0)}function kr(e,t){if((e.f&le)!==0){e.f^=le,(e.f&B)===0&&(Y(e,re),Qe(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&hn)!==0||(n.f&de)!==0;kr(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Ye=!1;function Rn(e){Ye=e}let Ne=!1;function jn(e){Ne=e}let P=null,oe=!1;function fe(e){P=e}let $=null;function ye(e){$=e}let ce=null;function Ls(e){P!==null&&(ce===null?ce=[e]:ce.push(e))}let K=null,J=0,te=null;function Ns(e){te=e}let Sr=1,at=0,$e=at;function qn(e){$e=e}let we=!1;function $r(){return++Sr}function _t(e){var t=e.f;if((t&re)!==0)return!0;if((t&_e)!==0){var n=e.deps,r=(t&ne)!==0;if(n!==null){var s,i,l=(t&Lt)!==0,o=r&&$!==null&&!we,a=n.length;if((l||o)&&($===null||($.f&Ce)===0)){var u=e,f=u.parent;for(s=0;s<a;s++)i=n[s],(l||!i?.reactions?.includes(u))&&(i.reactions??=[]).push(u);l&&(u.f^=Lt),o&&f!==null&&(f.f&ne)===0&&(u.f^=ne)}for(s=0;s<a;s++)if(i=n[s],_t(i)&&lr(i),i.wv>e.wv)return!0}(!r||$!==null&&!we)&&Y(e,B)}return!1}function Tr(e,t,n=!0){var r=e.reactions;if(r!==null&&!ce?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&ee)!==0?Tr(i,t,!1):t===i&&(n?Y(i,re):(i.f&B)!==0&&Y(i,_e),Qe(i))}}function Pr(e){var t=K,n=J,r=te,s=P,i=we,l=ce,o=O,a=oe,u=$e,f=e.f;K=null,J=0,te=null,we=(f&ne)!==0&&(oe||!Ye||P===null),P=(f&(de|Ae))===0?e:null,ce=null,Nt(e.ctx),oe=!1,$e=++at,e.ac!==null&&(Vt(()=>{e.ac.abort(wn)}),e.ac=null);try{e.f|=rn;var _=e.fn,v=_(),d=e.deps;if(K!==null){var c;if(Ot(e,J),d!==null&&J>0)for(d.length=J+K.length,c=0;c<K.length;c++)d[J+c]=K[c];else e.deps=d=K;if(!we||(f&ee)!==0&&e.reactions!==null)for(c=J;c<d.length;c++)(d[c].reactions??=[]).push(e)}else d!==null&&J<d.length&&(Ot(e,J),d.length=J);if(vt()&&te!==null&&!oe&&d!==null&&(e.f&(ee|_e|re))===0)for(c=0;c<te.length;c++)Tr(te[c],e);return s!==null&&s!==e&&(at++,te!==null&&(r===null?r=te:r.push(...te))),(e.f&ke)!==0&&(e.f^=ke),v}catch(w){return vs(w)}finally{e.f^=rn,K=t,J=n,te=r,P=s,we=i,ce=l,Nt(o),oe=a,$e=u}}function Ds(e,t){let n=t.reactions;if(n!==null){var r=Fr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&ee)!==0&&(K===null||!K.includes(t))&&(Y(t,_e),(t.f&(ne|Lt))===0&&(t.f^=Lt),ir(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ds(e,n[r])}function Te(e){var t=e.f;if((t&Ce)===0){Y(e,B);var n=$,r=Ye;$=e,Ye=!0;try{(t&Ge)!==0?Cs(e):br(e),yr(e);var s=Pr(e);e.teardown=typeof s=="function"?s:null,e.wv=Sr;var i;Yn&&us&&(e.f&re)!==0&&e.deps}finally{Ye=r,$=n}}}async function Ms(){await Promise.resolve(),ys()}function p(e){var t=e.f,n=(t&ee)!==0;if(P!==null&&!oe){var r=$!==null&&($.f&Ce)!==0;if(!r&&!ce?.includes(e)){var s=P.deps;if((P.f&rn)!==0)e.rv<at&&(e.rv=at,K===null&&s!==null&&s[J]===e?J++:K===null?K=[e]:(!we||!K.includes(e))&&K.push(e));else{(P.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[P]:i.includes(P)||i.push(P)}}}else if(n&&e.deps===null&&e.effects===null){var l=e,o=l.parent;o!==null&&(o.f&ne)===0&&(l.f^=ne)}if(Ne){if(me.has(e))return me.get(e);if(n){l=e;var a=l.v;return((l.f&B)===0&&l.reactions!==null||Ar(l))&&(a=En(l)),me.set(l,a),a}}else n&&(l=e,_t(l)&&lr(l));if((e.f&ke)!==0)throw e.v;return e.v}function Ar(e){if(e.v===V)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(me.has(t)||(t.f&ee)!==0&&Ar(t))return!0;return!1}function U(e){var t=oe;try{return oe=!0,e()}finally{oe=t}}const Os=-7169;function Y(e,t){e.f=e.f&Os|t}function Fs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Be in e)on(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Be in n&&on(n)}}}function on(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{on(e[r],t)}catch{}const n=Wn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Rr(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const Rs=["touchstart","touchmove"];function js(e){return Rs.includes(e)}const qs=new Set,Un=new Set;function Us(e,t,n,r={}){function s(i){if(r.capture||nt.call(t,i),!i.cancelBubble)return Vt(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?sr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function X(e,t,n,r,s){var i={capture:r,passive:s},l=Us(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&gr(()=>{t.removeEventListener(e,l,i)})}let Hn=null;function nt(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Hn=e;var l=0,o=Hn===e&&e.__root;if(o){var a=s.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;a<=u&&(l=a)}if(i=s[l]||e.target,i!==t){Ct(e,"currentTarget",{configurable:!0,get(){return i||n}});var f=P,_=$;fe(null),ye(null);try{for(var v,d=[];i!==null;){var c=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+r];if(w!=null&&(!i.disabled||e.target===i))if(dn(w)){var[h,...b]=w;h.apply(i,[e,...b])}else w.call(i,e)}catch(g){v?d.push(g):v=g}if(e.cancelBubble||c===t||c===null)break;i=c}if(v){for(let g of d)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,fe(f),ye(_)}}}function Hs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function un(e,t){var n=$;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&ls)!==0,r=(t&as)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Hs(i?e:"<!>"+e),n||(s=Mt(s)));var l=r||cr?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=Mt(l),a=l.lastChild;un(o,a)}else un(l,l);return l}}function $n(){var e=document.createDocumentFragment(),t=document.createComment(""),n=dt();return e.append(t,n),un(t,n),e}function F(e,t){e!==null&&e.before(t)}function Q(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Vs(e,t){return Bs(e,t)}const je=new Map;function Bs(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:l=!0}){Es();var o=new Set,a=_=>{for(var v=0;v<_.length;v++){var d=_[v];if(!o.has(d)){o.add(d);var c=js(d);t.addEventListener(d,nt,{passive:c});var w=je.get(d);w===void 0?(document.addEventListener(d,nt,{passive:c}),je.set(d,1)):je.set(d,w+1)}}};a(_n(qs)),Un.add(a);var u=void 0,f=Ts(()=>{var _=n??t.appendChild(dt());return lt(()=>{if(i){Ie({});var v=O;v.c=i}s&&(r.$$events=s),u=e(_,r)||{},i&&Le()}),()=>{for(var v of o){t.removeEventListener(v,nt);var d=je.get(v);--d===0?(document.removeEventListener(v,nt),je.delete(v)):je.set(v,d)}Un.delete(a),_!==n&&_.parentNode?.removeChild(_)}});return Ks.set(u,f),u}let Ks=new WeakMap;function ue(e,t,n=!1){var r=e,s=null,i=null,l=V,o=n?hn:0,a=!1;const u=(d,c=!0)=>{a=!0,v(c,d)};var f=null;function _(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var d=l?s:i,c=l?i:s;d&&Sn(d),c&&xn(c,()=>{l?i=null:s=null})}const v=(d,c)=>{if(l!==(l=d)){var w=_r(),h=r;if(w&&(f=document.createDocumentFragment(),f.append(h=dt())),l?s??=c&&lt(()=>c(h)):i??=c&&lt(()=>c(h)),w){var b=N,g=l?s:i,E=l?i:s;g&&b.skipped_effects.delete(g),E&&b.skipped_effects.add(E),b.add_callback(_)}else _()}};mr(()=>{a=!1,t(u),a||v(null,null)},o)}function Cr(e,t){return t}function Ys(e,t,n){for(var r=e.items,s=[],i=t.length,l=0;l<i;l++)kn(t[l].e,s,!0);var o=i>0&&s.length===0&&n!==null;if(o){var a=n.parentNode;xs(a),a.append(n),r.clear(),ae(e,t[0].prev,t[i-1].next)}xr(s,()=>{for(var u=0;u<i;u++){var f=t[u];o||(r.delete(f.k),ae(e,f.prev,f.next)),ve(f.e,!o)}})}function Tn(e,t,n,r,s,i=null){var l=e,o={flags:t,items:new Map,first:null},a=(t&Xn)!==0;if(a){var u=e;l=u.appendChild(dt())}var f=null,_=!1,v=new Map,d=bn(()=>{var b=n();return dn(b)?b:b==null?[]:_n(b)}),c,w;function h(){Ws(w,c,o,v,l,s,t,r,n),i!==null&&(c.length===0?f?Sn(f):f=lt(()=>i(l)):f!==null&&xn(f,()=>{f=null}))}mr(()=>{w??=$,c=p(d);var b=c.length;if(!(_&&b===0)){_=b===0;var g,E,x,I;if(_r()){var k=new Set,A=N;for(E=0;E<b;E+=1){x=c[E],I=r(x,E);var y=o.items.get(I)??v.get(I);y?(t&(jt|qt))!==0&&Ir(y,x,E,t):(g=Lr(null,o,null,null,x,I,E,s,t,n,!0),v.set(I,g)),k.add(I)}for(const[C,R]of o.items)k.has(C)||A.skipped_effects.add(R.e);A.add_callback(h)}else h();p(d)}})}function Ws(e,t,n,r,s,i,l,o,a){var u=(l&ts)!==0,f=(l&(jt|qt))!==0,_=t.length,v=n.items,d=n.first,c=d,w,h=null,b,g=[],E=[],x,I,k,A;if(u)for(A=0;A<_;A+=1)x=t[A],I=o(x,A),k=v.get(I),k!==void 0&&(k.a?.measure(),(b??=new Set).add(k));for(A=0;A<_;A+=1){if(x=t[A],I=o(x,A),k=v.get(I),k===void 0){var y=r.get(I);if(y!==void 0){r.delete(I),v.set(I,y);var C=h?h.next:c;ae(n,h,y),ae(n,y,C),Zt(y,C,s),h=y}else{var R=c?c.e.nodes_start:s;h=Lr(R,n,h,h===null?n.first:h.next,x,I,A,i,l,a)}v.set(I,h),g=[],E=[],c=h.next;continue}if(f&&Ir(k,x,A,l),(k.e.f&le)!==0&&(Sn(k.e),u&&(k.a?.unfix(),(b??=new Set).delete(k))),k!==c){if(w!==void 0&&w.has(k)){if(g.length<E.length){var j=E[0],m;h=j.prev;var D=g[0],M=g[g.length-1];for(m=0;m<g.length;m+=1)Zt(g[m],j,s);for(m=0;m<E.length;m+=1)w.delete(E[m]);ae(n,D.prev,M.next),ae(n,h,D),ae(n,M,j),c=j,h=M,A-=1,g=[],E=[]}else w.delete(k),Zt(k,c,s),ae(n,k.prev,k.next),ae(n,k,h===null?n.first:h.next),ae(n,h,k),h=k;continue}for(g=[],E=[];c!==null&&c.k!==I;)(c.e.f&le)===0&&(w??=new Set).add(c),E.push(c),c=c.next;if(c===null)continue;k=c}g.push(k),h=k,c=k.next}if(c!==null||w!==void 0){for(var G=w===void 0?[]:_n(w);c!==null;)(c.e.f&le)===0&&G.push(c),c=c.next;var W=G.length;if(W>0){var Me=(l&Xn)!==0&&_===0?s:null;if(u){for(A=0;A<W;A+=1)G[A].a?.measure();for(A=0;A<W;A+=1)G[A].a?.fix()}Ys(n,G,Me)}}u&&sr(()=>{if(b!==void 0)for(k of b)k.a?.apply()}),e.first=n.first&&n.first.e,e.last=h&&h.e;for(var be of r.values())ve(be.e);r.clear()}function Ir(e,t,n,r){(r&jt)!==0&&it(e.v,t),(r&qt)!==0?it(e.i,n):e.i=n}function Lr(e,t,n,r,s,i,l,o,a,u,f){var _=(a&jt)!==0,v=(a&ns)===0,d=_?v?ie(s,!1,!1):st(s):s,c=(a&qt)===0?l:st(l),w={i:c,v:d,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var h=document.createDocumentFragment();h.append(e=dt())}return w.e=lt(()=>o(e,d,c,u),os),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?f||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function Zt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var l=Ht(i);s.before(i),i=l}}function ae(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Vn=[...` 	
\r\f \v\uFEFF`];function zs(e,t,n){var r=e==null?"":""+e;if(n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,l=0;(l=r.indexOf(s,l))>=0;){var o=l+i;(l===0||Vn.includes(r[l-1]))&&(o===r.length||Vn.includes(r[o]))?r=(l===0?"":r.substring(0,l))+r.substring(o+1):l=o}}return r===""?null:r}function ot(e,t,n,r,s,i){var l=e.__className;if(l!==n||l===void 0){var o=zs(n,r,i);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(i&&s!==i)for(var a in i){var u=!!i[a];(s==null||u!==!!s[a])&&e.classList.toggle(a,u)}return i}function fn(e,t,n=t){var r=new WeakSet;pr(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=en(e)?tn(i):i,n(i),N!==null&&r.add(N),await Ms(),i!==(i=t())){var l=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),U(t)==null&&e.value&&(n(en(e)?tn(e.value):e.value),N!==null&&r.add(N)),Bt(()=>{var s=t();if(e===document.activeElement){var i=St??N;if(r.has(i))return}en(e)&&s===tn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Qs(e,t,n=t){pr(e,"change",r=>{var s=r?e.defaultChecked:e.checked;n(s)}),U(t)==null&&n(e.checked),Bt(()=>{var r=t();e.checked=!!r})}function en(e){var t=e.type;return t==="number"||t==="range"}function tn(e){return e===""?null:+e}function Gs(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function Xe(e=!1){const t=O,n=t.l.u;if(!n)return;let r=()=>Fs(t.s);if(e){let s=0,i={};const l=yn(()=>{let o=!1;const a=t.s;for(const u in a)a[u]!==i[u]&&(i[u]=a[u],o=!0);return o&&s++,s});r=()=>p(l)}n.b.length&&$s(()=>{Bn(t,r),It(n.b)}),an(()=>{const s=U(()=>n.m.map(Ur));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&an(()=>{Bn(t,r),It(n.a)})}function Bn(e,t){if(e.l.s)for(const n of e.l.s)p(n);t()}function Nr(e,t,n){if(e==null)return t(void 0),Ve;const r=U(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const qe=[];function De(e,t=Ve){let n=null;const r=new Set;function s(o){if(er(e,o)&&(e=o,n)){const a=!qe.length;for(const u of r)u[1](),qe.push(u,e);if(a){for(let u=0;u<qe.length;u+=2)qe[u][0](qe[u+1]);qe.length=0}}}function i(o){s(o(e))}function l(o,a=Ve){const u=[o,a];return r.add(u),r.size===1&&(n=t(s,i)||Ve),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}function ut(e){let t;return Nr(e,n=>t=n)(),t}let kt=!1,cn=Symbol();function Z(e,t,n){const r=n[t]??={store:null,source:ie(void 0),unsubscribe:Ve};if(r.store!==e&&!(cn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Ve;else{var s=!0;r.unsubscribe=Nr(e,i=>{s?r.source.v=i:S(r.source,i)}),s=!1}return e&&cn in n?ut(e):p(r.source)}function nn(e,t){return e.set(t),t}function pt(){const e={};function t(){gr(()=>{for(var n in e)e[n].unsubscribe();Ct(e,cn,{enumerable:!1,value:!0})})}return[e,t]}function Js(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function Kn(e,t,n,r){var s=!Je||(n&rs)!==0,i=(n&is)!==0,l=r,o=!0,a=()=>(o&&(o=!1,l=r),l),u;{var f=Be in e||Br in e;u=He(e,t)?.set??(f&&t in e?g=>e[t]=g:void 0)}var _,v=!1;[_,v]=Js(()=>e[t]),_===void 0&&r!==void 0&&(_=a(),u&&(s&&Jr(),u(_)));var d;if(s?d=()=>{var g=e[t];return g===void 0?a():(o=!0,g)}:d=()=>{var g=e[t];return g!==void 0&&(l=void 0),g===void 0?l:g},s&&(n&ss)===0)return d;if(u){var c=e.$$legacy;return(function(g,E){return arguments.length>0?((!s||!E||c||v)&&u(E?d():g),g):d()})}var w=!1,h=bn(()=>(w=!1,d()));p(h);var b=$;return(function(g,E){if(arguments.length>0){const x=E?p(h):s&&i?Ue(g):g;return S(h,x),w=!0,l!==void 0&&(l=x),g}return Ne&&w||(b.f&Ce)!==0?h.v:p(h)})}function Pn(e){O===null&&Jn(),Je&&O.l!==null?Xs(O).m.push(e):an(()=>{const t=U(e);if(typeof t=="function")return t})}function An(e){O===null&&Jn(),Pn(()=>()=>U(e))}function Xs(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Zs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zs);fs();const ft=De([]),Cn=De(0),Ft=De("study"),We=De(null),Tt=De(.8),Pt=De(!1),At=De(0);async function ei(){try{const e=await fetch("lessons.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();ft.set(t),t.length>0&&await Dr(0)}catch(e){console.error("Could not fetch lessons.json:",e),ft.set([])}}async function Dr(e){const t=ti(ft);if(!t[e]){console.error(`Lesson with index ${e} not found in manifest.`),We.set(null);return}const n=t[e].path;try{const r=await fetch(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();We.set(s),Cn.set(e)}catch(r){console.error(`Could not fetch ${n}:`,r),We.set(null)}}function ti(e){let t;return e.subscribe(n=>t=n)(),t}var ni=q("<button></button>"),ri=q('<nav class="days-nav svelte-1upqezx"><!></nav>');function si(e,t){Ie(t,!1);const[n,r]=pt(),s=()=>Z(Cn,"$currentLessonIndex",n),i=()=>Z(ft,"$lessons",n);function l(f){f!==s()&&Dr(f)}Xe();var o=ri(),a=T(o);{var u=f=>{var _=$n(),v=Ke(_);Tn(v,1,i,Cr,(d,c,w)=>{var h=ni();let b;h.textContent=`Day ${w+1}`,Se(g=>b=ot(h,1,"day-btn svelte-1upqezx",null,b,g),[()=>({active:w===s()})]),X("click",h,()=>l(w)),F(d,h)}),F(f,_)};ue(a,f=>{i().length>0&&f(u)})}F(e,o),Le(),r()}var ii=q("<button> </button>"),li=q('<div class="mode-selector svelte-v21mrc"></div>');function ai(e,t){Ie(t,!1);const[n,r]=pt(),s=()=>Z(Ft,"$currentMode",n),i=[{id:"study",name:"学习模式"},{id:"test",name:"默写模式"},{id:"practice",name:"练习模式"}];function l(a){Ft.set(a)}Xe();var o=li();Tn(o,5,()=>i,Cr,(a,u)=>{var f=ii();let _;var v=T(f);Se(d=>{_=ot(f,1,"mode-btn svelte-v21mrc",null,_,d),Q(v,p(u).name)},[()=>({active:p(u).id===s()})]),X("click",f,()=>l(p(u).id)),F(a,f)}),F(e,o),Le(),r()}var oi=q('<span class="speaker-icon svelte-qtq5dx" role="button" tabindex="0">🔊</span>');function vn(e,t){Ie(t,!1);let n=Kn(t,"text",8),r=Kn(t,"lang",8,"fi-FI"),s;const i=At.subscribe(v=>{s=v}),l=window.speechSynthesis;let o=null;function a(v,d){try{o=new Audio(v),o.onended=d,o.onerror=()=>{console.error(`Error playing audio file: ${v}`),d()},o.play()}catch(c){console.error(`Failed to create audio object for path: ${v}`,c),d()}}function u(){l.speaking&&l.cancel(),o&&o.pause();const v=ut(Pt),d=ut(Tt);if(v&&r()==="fi-FI"){const c=[];c.push({type:"tts",txt:n(),rt:d,ln:"fi-FI"});const w=n().toUpperCase().split("");w.forEach((g,E)=>{const x=encodeURIComponent(g);c.push({type:"audio",path:`audio/letters/${x}.wav`}),E<w.length-1&&c.push({type:"pause"})}),c.push({type:"tts",txt:n(),rt:d,ln:"fi-FI"});let h=0;const b=()=>{if(h>=c.length)return;const g=c[h],E=()=>{h++,b()};if(g.type==="pause")setTimeout(E,s);else if(g.type==="tts"){const x=new SpeechSynthesisUtterance(g.txt);x.lang=g.ln,x.rate=g.rt,x.onend=E,l.speak(x)}else g.type==="audio"&&a(g.path,E)};b()}else{const c=new SpeechSynthesisUtterance(n());c.lang=r(),c.rate=r()==="fi-FI"?d:1,l.speak(c)}}function f(v){v.key==="Enter"&&u()}An(()=>{i()}),Xe();var _=oi();X("click",_,Gs(u)),X("keypress",_,f),F(e,_),Le()}var ui=q('<div><p class="finnish svelte-h3ij1n"><span> </span> <!></p> <p class="chinese svelte-h3ij1n"> </p></div>'),fi=q('<div class="header-controls svelte-h3ij1n"><h2 class="day-title svelte-h3ij1n"> </h2> <div class="playback-controls svelte-h3ij1n"><div class="rate-slider svelte-h3ij1n"><span>语速:</span> <input type="range" min="0.5" max="1.2" step="0.1"/> <span> </span></div> <div class="spelling-toggle svelte-h3ij1n"><input type="checkbox" id="spelling-mode"/> <label for="spelling-mode" class="svelte-h3ij1n">拼写模式</label></div> <div class="rate-slider svelte-h3ij1n"><span>停顿:</span> <input type="range" min="0" max="500" step="10"/> <span> </span></div> <button class="btn-play-all svelte-h3ij1n"> </button></div></div> <div class="entries-grid svelte-h3ij1n"></div>',1),ci=q("<p>Loading lesson...</p>"),vi=q('<div class="study-view svelte-h3ij1n"><!></div>');function di(e,t){Ie(t,!1);const[n,r]=pt(),s=()=>Z(We,"$currentLessonData",n),i=()=>Z(Tt,"$finnishRate",n),l=()=>Z(Pt,"$enableSpellingMode",n),o=()=>Z(At,"$spellingPause",n);let a;const u=At.subscribe(y=>{a=y}),f=window.speechSynthesis;let _=ie(!1),v=[],d=0,c=ie("");function w(y,C,R,j){const m=new SpeechSynthesisUtterance(y);m.lang=C,m.rate=R,m.onend=j,f.speak(m)}function h(y,C){try{const R=new Audio(y);R.onended=C,R.onerror=()=>{console.error(`Error playing audio file: ${y}`),C()},R.play()}catch(R){console.error(`Failed to create audio object for path: ${y}`,R),C()}}function b(){if(d<v.length&&p(_)){const y=v[d],C=()=>{d++,b()};if(y.type==="pause"){setTimeout(C,a);return}S(c,y.finnishForHighlight),y.type==="tts"?w(y.text,y.lang,y.rate,C):y.type==="audio"&&h(y.path,C)}else E()}function g(){if(p(_))E();else{f.speaking&&f.cancel(),v=[];const y=ut(Pt),C=ut(Tt);s().entries.forEach(R=>{const j=R.finnish;if(v.push({type:"tts",text:j,lang:"fi-FI",finnishForHighlight:j,rate:C}),y){const m=j.toUpperCase().split("");m.forEach((D,M)=>{const G=encodeURIComponent(D);v.push({type:"audio",path:`audio/letters/${G}.wav`,finnishForHighlight:j}),M<m.length-1&&v.push({type:"pause"})}),v.push({type:"tts",text:j,lang:"fi-FI",finnishForHighlight:j,rate:C})}v.push({type:"tts",text:R.chinese,lang:"zh-CN",finnishForHighlight:j,rate:1})}),S(_,!0),d=0,b()}}function E(){S(_,!1),S(c,""),f.speaking&&f.cancel()}An(()=>{E(),u()}),Xe();var x=vi(),I=T(x);{var k=y=>{var C=fi(),R=Ke(C),j=T(R),m=T(j),D=L(j,2),M=T(D),G=L(T(M),2),W=L(G,2),Me=T(W),be=L(M,2),ht=T(be),gt=L(be,2),wt=L(T(gt),2),mt=L(wt,2),Kt=T(mt),Ee=L(gt,2),yt=T(Ee),Yt=L(R,2);Tn(Yt,5,()=>s().entries,z=>z.finnish,(z,Oe)=>{var Ze=ui();let Fe;var et=T(Ze),bt=T(et),Et=T(bt),Wt=L(bt,2);vn(Wt,{get text(){return p(Oe).finnish},lang:"fi-FI"});var H=L(et,2),se=T(H);Se(he=>{Fe=ot(Ze,1,"entry svelte-h3ij1n",null,Fe,he),Q(Et,p(Oe).finnish),Q(se,p(Oe).chinese)},[()=>({playing:p(Oe).finnish===p(c)})]),F(z,Ze)}),Se(z=>{Q(m,s().day),Q(Me,`${z??""}x`),Q(Kt,`${o()??""}ms`),Q(yt,p(_)?"停止朗读":"整课循环朗读")},[()=>i().toFixed(1)]),fn(G,i,z=>nn(Tt,z)),Qs(ht,l,z=>nn(Pt,z)),fn(wt,o,z=>nn(At,z)),X("click",Ee,g),F(y,C)},A=y=>{var C=ci();F(y,C)};ue(I,y=>{s()?y(k):y(A,!1)})}F(e,x),Le(),r()}var _i=q('<div class="card completion-card svelte-1c5xhip"><p class="svelte-1c5xhip">🎉 恭喜！您已完成本课的所有练习！</p> <button class="btn svelte-1c5xhip">重新开始</button></div>'),pi=q('<div class="translation-container svelte-1c5xhip"><p> </p> <button class="btn-toggle svelte-1c5xhip"> </button></div>'),hi=q('<button class="btn check-btn svelte-1c5xhip">检查</button>'),gi=q('<div><p class="svelte-1c5xhip"> </p> <p class="correct-answer svelte-1c5xhip"><span> </span> <!></p></div>'),wi=q('<div class="card svelte-1c5xhip"><p class="question svelte-1c5xhip"><span> </span> <!></p> <!> <input id="answer-input" type="text" placeholder="输入你的答案..." class="svelte-1c5xhip"/> <!> <!> <div class="navigation svelte-1c5xhip"><button class="btn svelte-1c5xhip">上一题</button> <span> </span> <button class="btn svelte-1c5xhip"> </button></div></div>'),mi=q('<div class="practice-view svelte-1c5xhip"><!></div>');function yi(e,t){Ie(t,!1);const[n,r]=pt(),s=()=>Z(Cn,"$currentLessonIndex",n),i=()=>Z(Ft,"$currentMode",n),l=()=>Z(We,"$currentLessonData",n);let o=ie([]),a=ie(0),u=ie(""),f=ie({message:"",isCorrect:!1,showCorrect:!1,correctAnswer:""}),_=ie(!1),v=ie(!1);function d(m){let D=m.length,M;for(;D!==0;)M=Math.floor(Math.random()*D),D--,[m[D],m[M]]=[m[M],m[D]];return m}function c(m,D,M){const W=JSON.parse(localStorage.getItem("suomenProgress")||"{}")?.[m]?.[D];W&&W.shuffledEntries?(S(o,W.shuffledEntries),S(a,W.currentIndex||0)):(S(o,d([...M])),S(a,0),w()),S(v,p(a)>=p(o).length)}function w(){const m=s(),D=i(),M=JSON.parse(localStorage.getItem("suomenProgress")||"{}");M[m]||(M[m]={}),M[m][D]={shuffledEntries:p(o),currentIndex:p(a)},localStorage.setItem("suomenProgress",JSON.stringify(M))}let h=ie();function b(){if(!p(h))return;const m=i()==="test"?p(h).chinese:p(h).finnish;p(u).trim().toLowerCase()===m.trim().toLowerCase()?(S(f,{message:"正确!",isCorrect:!0,showCorrect:!0,correctAnswer:m}),setTimeout(()=>{g()},800)):S(f,{message:"错误. 正确答案:",isCorrect:!1,showCorrect:!0,correctAnswer:m})}function g(){p(a)<p(o).length-1?(Jt(a),w(),x()):(Jt(a),w(),S(v,!0))}function E(){p(a)>0&&(Jt(a,-1),w(),x())}function x(){S(u,""),S(f,{message:"",isCorrect:!1,showCorrect:!1,correctAnswer:""}),S(_,!1),setTimeout(()=>{const m=document.getElementById("answer-input");m&&m.focus()},0)}function I(){S(o,d([...l().entries])),S(a,0),S(v,!1),w(),x()}function k(m){m.key==="Alt"&&i()==="practice"&&(m.preventDefault(),S(_,!0))}function A(m){m.key==="Alt"&&i()==="practice"&&S(_,!1)}Pn(()=>{window.addEventListener("keydown",k),window.addEventListener("keyup",A)}),An(()=>{window.removeEventListener("keydown",k),window.removeEventListener("keyup",A)}),Fn(()=>(l(),s(),i()),()=>{l()&&(c(s(),i(),l().entries),x())}),Fn(()=>(p(o),p(a)),()=>{S(h,p(o)[p(a)])}),Ps(),Xe();var y=mi(),C=T(y);{var R=m=>{var D=_i(),M=L(T(D),2);X("click",M,I),F(m,D)},j=m=>{var D=$n(),M=Ke(D);{var G=W=>{var Me=wi(),be=T(Me),ht=T(be),gt=T(ht),wt=L(ht,2);vn(wt,{get text(){return p(h),U(()=>p(h).finnish)}});var mt=L(be,2);{var Kt=H=>{var se=pi(),he=T(se);let tt;var zt=T(he),Re=L(he,2),xt=T(Re);Se(Qt=>{tt=ot(he,1,"translation svelte-1c5xhip",null,tt,Qt),Q(zt,(p(h),U(()=>p(h).chinese))),Q(xt,p(_)?"隐藏翻译":"按住显示翻译")},[()=>({visible:p(_)})]),X("mousedown",Re,()=>S(_,!0)),X("mouseup",Re,()=>S(_,!1)),X("mouseleave",Re,()=>S(_,!1)),F(H,se)};ue(mt,H=>{i()==="practice"&&H(Kt)})}var Ee=L(mt,2),yt=L(Ee,2);{var Yt=H=>{var se=hi();X("click",se,b),F(H,se)};ue(yt,H=>{p(f),U(()=>!p(f).showCorrect)&&H(Yt)})}var z=L(yt,2);{var Oe=H=>{var se=gi();let he;var tt=T(se),zt=T(tt),Re=L(tt,2),xt=T(Re),Qt=T(xt),Mr=L(xt,2);vn(Mr,{get text(){return p(h),U(()=>p(h).finnish)}}),Se(Or=>{he=ot(se,1,"feedback svelte-1c5xhip",null,he,Or),Q(zt,(p(f),U(()=>p(f).message))),Q(Qt,(p(f),U(()=>p(f).correctAnswer)))},[()=>({correct:p(f).isCorrect,incorrect:!p(f).isCorrect})]),F(H,se)};ue(z,H=>{p(f),U(()=>p(f).showCorrect)&&H(Oe)})}var Ze=L(z,2),Fe=T(Ze),et=L(Fe,2),bt=T(et),Et=L(et,2),Wt=T(Et);Se(()=>{Q(gt,(p(h),U(()=>p(h).finnish))),Ee.disabled=(p(f),U(()=>p(f).showCorrect)),Fe.disabled=p(a)===0,Q(bt,`${p(a)+1} / ${p(o),U(()=>p(o).length)??""}`),Q(Wt,(p(f),U(()=>p(f).showCorrect?"下一题":"跳过")))}),fn(Ee,()=>p(u),H=>S(u,H)),X("keydown",Ee,H=>H.key==="Enter"&&b()),X("click",Fe,E),X("click",Et,g),F(W,Me)};ue(M,W=>{p(h)&&W(G)},!0)}F(m,D)};ue(C,m=>{p(v)?m(R):m(j,!1)})}F(e,y),Le(),r()}var bi=q("<p>Loading day's content...</p>"),Ei=q('<!> <!> <div class="content-area"><!></div>',1),xi=q("<p>Loading lesson manifest...</p>"),ki=q('<header class="svelte-nwa0j8"><h1 class="svelte-nwa0j8">Suomen Oppiminen</h1> <p class="svelte-nwa0j8">芬兰语学习笔记</p></header> <main class="svelte-nwa0j8"><!></main> <footer class="svelte-nwa0j8"><p>Opetellaan suomea yhdessä!</p></footer>',1);function Si(e,t){Ie(t,!1);const[n,r]=pt(),s=()=>Z(ft,"$lessons",n),i=()=>Z(We,"$currentLessonData",n),l=()=>Z(Ft,"$currentMode",n);Pn(()=>{ei()}),Xe();var o=ki(),a=L(Ke(o),2),u=T(a);{var f=v=>{var d=Ei(),c=Ke(d);si(c,{});var w=L(c,2);ai(w,{});var h=L(w,2),b=T(h);{var g=x=>{var I=$n(),k=Ke(I);{var A=C=>{di(C,{})},y=C=>{yi(C,{})};ue(k,C=>{l()==="study"?C(A):C(y,!1)})}F(x,I)},E=x=>{var I=bi();F(x,I)};ue(b,x=>{i()?x(g):x(E,!1)})}F(v,d)},_=v=>{var d=xi();F(v,d)};ue(u,v=>{s().length>0?v(f):v(_,!1)})}F(e,o),Le(),r()}Vs(Si,{target:document.getElementById("app")});
