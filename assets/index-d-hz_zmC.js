(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Ln=!1;var Wt=Array.isArray,$r=Array.prototype.indexOf,zt=Array.from,_t=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,Ir=Object.getOwnPropertyDescriptors,Lr=Object.prototype,Nr=Array.prototype,Nn=Object.getPrototypeOf,gn=Object.isExtensible;const Fe=()=>{};function Or(e){return e()}function ht(e){for(var t=0;t<e.length;t++)e[t]()}function Dr(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const z=2,On=4,Et=8,Ke=16,ve=32,Se=64,Dn=128,J=256,pt=512,q=1024,X=2048,de=4096,ne=8192,Pe=16384,Qt=32768,Gt=65536,wn=1<<17,Mr=1<<18,rt=1<<19,Mn=1<<20,qt=1<<21,Jt=1<<22,be=1<<23,qe=Symbol("$state"),Rr=Symbol("legacy props"),Xt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Fr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Rn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function jr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ur(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Hr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Vr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Br(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Kr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Wr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const xt=1,kt=2,Fn=4,zr=8,Qr=16,Gr=2,Jr=4,Xr=8,Zr=1,es=2,R=Symbol();let ts=!1;function qn(e){return e===this.v}function jn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Un(e){return!jn(e,this.v)}let Ye=!1,ns=!1;function rs(){Ye=!0}let I=null;function gt(e){I=e}function Ce(e,t=!1,n){I={p:I,c:null,e:null,s:e,x:null,l:Ye&&!t?{s:null,u:null,$:[]}:null}}function Te(e){var t=I,n=t.e;if(n!==null){t.e=null;for(var r of n)rr(r)}return I=t.p,{}}function st(){return!Ye||I!==null&&I.l===null}const ss=new WeakMap;function is(e){var t=k;if(t===null)return S.f|=be,e;if((t.f&Qt)===0){if((t.f&Dn)===0)throw!t.parent&&e instanceof Error&&Hn(e),e;t.b.error(e)}else Zt(e,t)}function Zt(e,t){for(;t!==null;){if((t.f&Dn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Hn(e),e}function Hn(e){const t=ss.get(e);t&&(_t(e,"message",{value:t.message}),_t(e,"stack",{value:t.stack}))}let Ge=[],jt=[];function Vn(){var e=Ge;Ge=[],ht(e)}function ls(){var e=jt;jt=[],ht(e)}function Bn(e){Ge.length===0&&queueMicrotask(Vn),Ge.push(e)}function as(){Ge.length>0&&Vn(),jt.length>0&&ls()}function us(){for(var e=k.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Fr(),e}function en(e){var t=z|X,n=S!==null&&(S.f&z)!==0?S:null;return k===null||n!==null&&(n.f&J)!==0?t|=J:k.f|=rt,{ctx:I,deps:null,effects:null,equals:qn,f:t,fn:e,reactions:null,rv:0,v:R,wv:0,parent:n??k,ac:null}}function os(e,t){let n=k;n===null&&qr();var r=n.b,s=void 0,i=Je(R),l=null,u=!S;return xs(()=>{try{var a=e();l&&Promise.resolve(a).catch(()=>{})}catch(v){a=Promise.reject(v)}var o=()=>a;s=l?.then(o,o)??Promise.resolve(a),l=s;var f=$,d=r.pending;u&&(r.update_pending_count(1),d||f.increment());const _=(v,c=void 0)=>{l=null,d||f.activate(),c?c!==Xt&&(i.f|=be,Xe(i,c)):((i.f&be)!==0&&(i.f^=be),Xe(i,v)),u&&(r.update_pending_count(-1),d||f.decrement()),Wn()};if(s.then(_,v=>_(null,v||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(a=>{function o(f){function d(){f===s?a(i):o(s)}f.then(d,d)}o(s)})}function tn(e){const t=en(e);return t.equals=Un,t}function Kn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ce(t[n])}}function fs(e){for(var t=e.parent;t!==null;){if((t.f&z)===0)return t;t=t.parent}return null}function nn(e){var t,n=k;we(fs(e));try{Kn(e),t=dr(e)}finally{we(n)}return t}function Yn(e){var t=nn(e);if(e.equals(t)||(e.v=t,e.wv=cr()),!Ae){var n=(pe||(e.f&J)!==0)&&e.deps!==null?de:q;B(e,n)}}function cs(e,t,n){const r=st()?en:tn;if(t.length===0){n(e.map(r));return}var s=$,i=k,l=vs(),u=us();Promise.all(t.map(a=>os(a))).then(a=>{s?.activate(),l();try{n([...e.map(r),...a])}catch(o){(i.f&Pe)===0&&Zt(o,i)}s?.deactivate(),Wn()}).catch(a=>{u.error(a)})}function vs(){var e=k,t=S,n=I,r=$;return function(){we(e),ae(t),gt(n),r?.activate()}}function Wn(){we(null),ae(null),gt(null)}const Nt=new Set;let $=null,vt=null,mn=new Set,wt=[];function zn(){const e=wt.shift();wt.length>0&&queueMicrotask(zn),e()}let ke=[],St=null,Ut=!1,dt=!1;class Ve{current=new Map;#u=new Map;#s=new Set;#e=0;#o=null;#f=!1;#n=[];#i=[];#r=[];#t=[];#l=[];#c=[];#v=[];skipped_effects=new Set;process(t){ke=[],vt=null;for(const s of t)this.#_(s);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#l=[],vt=$,$=null,bn(n),bn(r),$===null?$=this:Nt.delete(this),this.#o?.resolve()}else this.#a(this.#r),this.#a(this.#t),this.#a(this.#l);for(const s of this.#n)xe(s);for(const s of this.#i)xe(s);this.#n=[],this.#i=[]}#_(t){t.f^=q;for(var n=t.first;n!==null;){var r=n.f,s=(r&(ve|Se))!==0,i=s&&(r&q)!==0,l=i||(r&ne)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){if(s)n.f^=q;else if((r&On)!==0)this.#t.push(n);else if((r&q)===0)if((r&Jt)!==0){var u=n.b?.pending?this.#i:this.#n;u.push(n)}else lt(n)&&((n.f&Ke)!==0&&this.#l.push(n),xe(n));var a=n.first;if(a!==null){n=a;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}}#a(t){for(const n of t)((n.f&X)!==0?this.#c:this.#v).push(n),B(n,q);t.length=0}capture(t,n){this.#u.has(t)||this.#u.set(t,n),this.current.set(t,t.v)}activate(){$=this}deactivate(){$=null,vt=null;for(const t of mn)if(mn.delete(t),t(),$!==null)break}neuter(){this.#f=!0}flush(){ke.length>0?Qn():this.#d(),$===this&&(this.#e===0&&Nt.delete(this),this.deactivate())}#d(){if(!this.#f)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)B(t,X),Be(t);for(const t of this.#v)B(t,de),Be(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#o??=Dr()).promise}static ensure(){if($===null){const t=$=new Ve;Nt.add($),dt||Ve.enqueue(()=>{$===t&&t.flush()})}return $}static enqueue(t){wt.length===0&&queueMicrotask(zn),wt.unshift(t)}}function ds(e){var t=dt;dt=!0;try{for(var n;;){if(as(),ke.length===0&&($?.flush(),ke.length===0))return St=null,n;Qn()}}finally{dt=t}}function Qn(){var e=Ue;Ut=!0;try{var t=0;for(kn(!0);ke.length>0;){var n=Ve.ensure();if(t++>1e3){var r,s;_s()}n.process(ke),ge.clear()}}finally{Ut=!1,kn(e),St=null}}function _s(){try{Vr()}catch(e){Zt(e,St)}}let me=null;function bn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Pe|ne))===0&&lt(r)&&(me=[],xe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ar(r):r.fn=null),me?.length>0)){ge.clear();for(const s of me)xe(s);me=[]}}me=null}}function Be(e){for(var t=St=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ut&&t===k&&(n&Ke)!==0)return;if((n&(Se|ve))!==0){if((n&q)===0)return;t.f^=q}}ke.push(t)}const ge=new Map;function Je(e,t){var n={f:0,v:e,reactions:null,equals:qn,rv:0,wv:0};return n}function he(e,t){const n=Je(e);return Ps(n),n}function te(e,t=!1,n=!0){const r=Je(e);return t||(r.equals=Un),Ye&&n&&I!==null&&I.l!==null&&(I.l.s??=[]).push(r),r}function E(e,t,n=!1){S!==null&&(!se||(S.f&wn)!==0)&&st()&&(S.f&(z|Ke|Jt|wn))!==0&&!fe?.includes(e)&&Wr();let r=n?Me(t):t;return Xe(e,r)}function Xe(e,t){if(!e.equals(t)){var n=e.v;Ae?ge.set(e,t):ge.set(e,n),e.v=t;var r=Ve.ensure();r.capture(e,n),(e.f&z)!==0&&((e.f&X)!==0&&nn(e),B(e,(e.f&J)===0?q:de)),e.wv=cr(),Gn(e,X),st()&&k!==null&&(k.f&q)!==0&&(k.f&(ve|Se))===0&&(Q===null?Cs([e]):Q.push(e))}return t}function Ot(e,t=1){var n=h(e),r=t===1?n++:n--;return E(e,n),r}function Dt(e){E(e,e.v+1)}function Gn(e,t){var n=e.reactions;if(n!==null)for(var r=st(),s=n.length,i=0;i<s;i++){var l=n[i],u=l.f;if(!(!r&&l===k)){var a=(u&X)===0;a&&B(l,t),(u&z)!==0?Gn(l,de):a&&((u&Ke)!==0&&me!==null&&me.push(l),Be(l))}}}function Me(e){if(typeof e!="object"||e===null||qe in e)return e;const t=Nn(e);if(t!==Lr&&t!==Nr)return e;var n=new Map,r=Wt(e),s=he(0),i=Ee,l=u=>{if(Ee===i)return u();var a=S,o=Ee;ae(null),Pn(i);var f=u();return ae(a),Pn(o),f};return r&&n.set("length",he(e.length)),new Proxy(e,{defineProperty(u,a,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Kr();var f=n.get(a);return f===void 0?f=l(()=>{var d=he(o.value);return n.set(a,d),d}):E(f,o.value,!0),!0},deleteProperty(u,a){var o=n.get(a);if(o===void 0){if(a in u){const f=l(()=>he(R));n.set(a,f),Dt(s)}}else E(o,R),Dt(s);return!0},get(u,a,o){if(a===qe)return e;var f=n.get(a),d=a in u;if(f===void 0&&(!d||Re(u,a)?.writable)&&(f=l(()=>{var v=Me(d?u[a]:R),c=he(v);return c}),n.set(a,f)),f!==void 0){var _=h(f);return _===R?void 0:_}return Reflect.get(u,a,o)},getOwnPropertyDescriptor(u,a){var o=Reflect.getOwnPropertyDescriptor(u,a);if(o&&"value"in o){var f=n.get(a);f&&(o.value=h(f))}else if(o===void 0){var d=n.get(a),_=d?.v;if(d!==void 0&&_!==R)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return o},has(u,a){if(a===qe)return!0;var o=n.get(a),f=o!==void 0&&o.v!==R||Reflect.has(u,a);if(o!==void 0||k!==null&&(!f||Re(u,a)?.writable)){o===void 0&&(o=l(()=>{var _=f?Me(u[a]):R,v=he(_);return v}),n.set(a,o));var d=h(o);if(d===R)return!1}return f},set(u,a,o,f){var d=n.get(a),_=a in u;if(r&&a==="length")for(var v=o;v<d.v;v+=1){var c=n.get(v+"");c!==void 0?E(c,R):v in u&&(c=l(()=>he(R)),n.set(v+"",c))}if(d===void 0)(!_||Re(u,a)?.writable)&&(d=l(()=>he(void 0)),E(d,Me(o)),n.set(a,d));else{_=d.v!==R;var w=l(()=>Me(o));E(d,w)}var g=Reflect.getOwnPropertyDescriptor(u,a);if(g?.set&&g.set.call(f,o),!_){if(r&&typeof a=="string"){var x=n.get("length"),p=Number(a);Number.isInteger(p)&&p>=x.v&&E(x,p+1)}Dt(s)}return!0},ownKeys(u){h(s);var a=Reflect.ownKeys(u).filter(d=>{var _=n.get(d);return _===void 0||_.v!==R});for(var[o,f]of n)f.v!==R&&!(o in u)&&a.push(o);return a},setPrototypeOf(){Yr()}})}var yn,Jn,Xn,Zn;function hs(){if(yn===void 0){yn=window,Jn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Xn=Re(t,"firstChild").get,Zn=Re(t,"nextSibling").get,gn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),gn(n)&&(n.__t=void 0)}}function it(e=""){return document.createTextNode(e)}function mt(e){return Xn.call(e)}function Pt(e){return Zn.call(e)}function A(e,t){return mt(e)}function je(e,t){{var n=mt(e);return n instanceof Comment&&n.data===""?Pt(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=Pt(r);return r}function ps(e){e.textContent=""}function er(){return!1}let En=!1;function gs(){En||(En=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ct(e){var t=S,n=k;ae(null),we(null);try{return e()}finally{ae(t),we(n)}}function ws(e,t,n,r=n){e.addEventListener(t,()=>Ct(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),gs()}function tr(e){k===null&&S===null&&Hr(),S!==null&&(S.f&J)!==0&&k===null&&Ur(),Ae&&jr()}function ms(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function _e(e,t,n,r=!0){var s=k;s!==null&&(s.f&ne)!==0&&(e|=ne);var i={ctx:I,deps:null,nodes_start:null,nodes_end:null,f:e|X,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{xe(i),i.f|=Qt}catch(a){throw ce(i),a}else t!==null&&Be(i);if(r){var l=i;if(n&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&(l.f&rt)===0&&(l=l.first),l!==null&&(l.parent=s,s!==null&&ms(l,s),S!==null&&(S.f&z)!==0&&(e&Se)===0)){var u=S;(u.effects??=[]).push(l)}}return i}function nr(e){const t=_e(Et,null,!1);return B(t,q),t.teardown=e,t}function Ht(e){tr();var t=k.f,n=!S&&(t&ve)!==0&&(t&Qt)===0;if(n){var r=I;(r.e??=[]).push(e)}else return rr(e)}function rr(e){return _e(On|Mn,e,!1)}function bs(e){return tr(),_e(Et|Mn,e,!0)}function ys(e){Ve.ensure();const t=_e(Se|rt,e,!0);return(n={})=>new Promise(r=>{n.outro?sn(t,()=>{ce(t),r(void 0)}):(ce(t),r(void 0))})}function xn(e,t){var n=I,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=rn(()=>{e(),!r.ran&&(r.ran=!0,F(t))})}function Es(){var e=I;rn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&q)!==0&&B(n,de),lt(n)&&xe(n),t.ran=!1}})}function xs(e){return _e(Jt|rt,e,!0)}function rn(e,t=0){return _e(Et|t,e,!0)}function ye(e,t=[],n=[]){cs(t,n,r=>{_e(Et,()=>e(...r.map(h)),!0)})}function sr(e,t=0){var n=_e(Ke|t,e,!0);return n}function Ze(e,t=!0){return _e(ve|rt,e,!0,t)}function ir(e){var t=e.teardown;if(t!==null){const n=Ae,r=S;Sn(!0),ae(null);try{t.call(null)}finally{Sn(n),ae(r)}}}function lr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&Ct(()=>{s.abort(Xt)});var r=n.next;(n.f&Se)!==0?n.parent=null:ce(n,t),n=r}}function ks(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ve)===0&&ce(t),t=n}}function ce(e,t=!0){var n=!1;(t||(e.f&Mr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ss(e.nodes_start,e.nodes_end),n=!0),lr(e,t&&!n),bt(e,0),B(e,Pe);var r=e.transitions;if(r!==null)for(const i of r)i.stop();ir(e);var s=e.parent;s!==null&&s.first!==null&&ar(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ss(e,t){for(;e!==null;){var n=e===t?null:Pt(e);e.remove(),e=n}}function ar(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function sn(e,t){var n=[];ln(e,n,!0),ur(n,()=>{ce(e),t&&t()})}function ur(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function ln(e,t,n){if((e.f&ne)===0){if(e.f^=ne,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&Gt)!==0||(r.f&ve)!==0;ln(r,t,i?n:!1),r=s}}}function an(e){or(e,!0)}function or(e,t){if((e.f&ne)!==0){e.f^=ne,(e.f&q)===0&&(B(e,X),Be(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Gt)!==0||(n.f&ve)!==0;or(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Ue=!1;function kn(e){Ue=e}let Ae=!1;function Sn(e){Ae=e}let S=null,se=!1;function ae(e){S=e}let k=null;function we(e){k=e}let fe=null;function Ps(e){S!==null&&(fe===null?fe=[e]:fe.push(e))}let V=null,Y=0,Q=null;function Cs(e){Q=e}let fr=1,et=0,Ee=et;function Pn(e){Ee=e}let pe=!1;function cr(){return++fr}function lt(e){var t=e.f;if((t&X)!==0)return!0;if((t&de)!==0){var n=e.deps,r=(t&J)!==0;if(n!==null){var s,i,l=(t&pt)!==0,u=r&&k!==null&&!pe,a=n.length;if((l||u)&&(k===null||(k.f&Pe)===0)){var o=e,f=o.parent;for(s=0;s<a;s++)i=n[s],(l||!i?.reactions?.includes(o))&&(i.reactions??=[]).push(o);l&&(o.f^=pt),u&&f!==null&&(f.f&J)===0&&(o.f^=J)}for(s=0;s<a;s++)if(i=n[s],lt(i)&&Yn(i),i.wv>e.wv)return!0}(!r||k!==null&&!pe)&&B(e,q)}return!1}function vr(e,t,n=!0){var r=e.reactions;if(r!==null&&!fe?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&z)!==0?vr(i,t,!1):t===i&&(n?B(i,X):(i.f&q)!==0&&B(i,de),Be(i))}}function dr(e){var t=V,n=Y,r=Q,s=S,i=pe,l=fe,u=I,a=se,o=Ee,f=e.f;V=null,Y=0,Q=null,pe=(f&J)!==0&&(se||!Ue||S===null),S=(f&(ve|Se))===0?e:null,fe=null,gt(e.ctx),se=!1,Ee=++et,e.ac!==null&&(Ct(()=>{e.ac.abort(Xt)}),e.ac=null);try{e.f|=qt;var d=e.fn,_=d(),v=e.deps;if(V!==null){var c;if(bt(e,Y),v!==null&&Y>0)for(v.length=Y+V.length,c=0;c<V.length;c++)v[Y+c]=V[c];else e.deps=v=V;if(!pe||(f&z)!==0&&e.reactions!==null)for(c=Y;c<v.length;c++)(v[c].reactions??=[]).push(e)}else v!==null&&Y<v.length&&(bt(e,Y),v.length=Y);if(st()&&Q!==null&&!se&&v!==null&&(e.f&(z|de|X))===0)for(c=0;c<Q.length;c++)vr(Q[c],e);return s!==null&&s!==e&&(et++,Q!==null&&(r===null?r=Q:r.push(...Q))),(e.f&be)!==0&&(e.f^=be),_}catch(w){return is(w)}finally{e.f^=qt,V=t,Y=n,Q=r,S=s,pe=i,fe=l,gt(u),se=a,Ee=o}}function Ts(e,t){let n=t.reactions;if(n!==null){var r=$r.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&z)!==0&&(V===null||!V.includes(t))&&(B(t,de),(t.f&(J|pt))===0&&(t.f^=pt),Kn(t),bt(t,0))}function bt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ts(e,n[r])}function xe(e){var t=e.f;if((t&Pe)===0){B(e,q);var n=k,r=Ue;k=e,Ue=!0;try{(t&Ke)!==0?ks(e):lr(e),ir(e);var s=dr(e);e.teardown=typeof s=="function"?s:null,e.wv=fr;var i;Ln&&ns&&(e.f&X)!==0&&e.deps}finally{Ue=r,k=n}}}async function As(){await Promise.resolve(),ds()}function h(e){var t=e.f,n=(t&z)!==0;if(S!==null&&!se){var r=k!==null&&(k.f&Pe)!==0;if(!r&&!fe?.includes(e)){var s=S.deps;if((S.f&qt)!==0)e.rv<et&&(e.rv=et,V===null&&s!==null&&s[Y]===e?Y++:V===null?V=[e]:(!pe||!V.includes(e))&&V.push(e));else{(S.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[S]:i.includes(S)||i.push(S)}}}else if(n&&e.deps===null&&e.effects===null){var l=e,u=l.parent;u!==null&&(u.f&J)===0&&(l.f^=J)}if(Ae){if(ge.has(e))return ge.get(e);if(n){l=e;var a=l.v;return((l.f&q)===0&&l.reactions!==null||_r(l))&&(a=nn(l)),ge.set(l,a),a}}else n&&(l=e,lt(l)&&Yn(l));if((e.f&be)!==0)throw e.v;return e.v}function _r(e){if(e.v===R)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ge.has(t)||(t.f&z)!==0&&_r(t))return!0;return!1}function F(e){var t=se;try{return se=!0,e()}finally{se=t}}const $s=-7169;function B(e,t){e.f=e.f&$s|t}function Is(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(qe in e)Vt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&qe in n&&Vt(n)}}}function Vt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Vt(e[r],t)}catch{}const n=Nn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ir(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const Ls=["touchstart","touchmove"];function Ns(e){return Ls.includes(e)}const Os=new Set,Cn=new Set;function Ds(e,t,n,r={}){function s(i){if(r.capture||Qe.call(t,i),!i.cancelBubble)return Ct(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Bn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function W(e,t,n,r,s){var i={capture:r,passive:s},l=Ds(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&nr(()=>{t.removeEventListener(e,l,i)})}let Tn=null;function Qe(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Tn=e;var l=0,u=Tn===e&&e.__root;if(u){var a=s.indexOf(u);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var o=s.indexOf(t);if(o===-1)return;a<=o&&(l=a)}if(i=s[l]||e.target,i!==t){_t(e,"currentTarget",{configurable:!0,get(){return i||n}});var f=S,d=k;ae(null),we(null);try{for(var _,v=[];i!==null;){var c=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+r];if(w!=null&&(!i.disabled||e.target===i))if(Wt(w)){var[g,...x]=w;g.apply(i,[e,...x])}else w.call(i,e)}catch(p){_?v.push(p):_=p}if(e.cancelBubble||c===t||c===null)break;i=c}if(_){for(let p of v)queueMicrotask(()=>{throw p});throw _}}finally{e.__root=t,delete e.currentTarget,ae(f),we(d)}}}function Ms(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Bt(e,t){var n=k;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function M(e,t){var n=(t&Zr)!==0,r=(t&es)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ms(i?e:"<!>"+e),n||(s=mt(s)));var l=r||Jn?document.importNode(s,!0):s.cloneNode(!0);if(n){var u=mt(l),a=l.lastChild;Bt(u,a)}else Bt(l,l);return l}}function un(){var e=document.createDocumentFragment(),t=document.createComment(""),n=it();return e.append(t,n),Bt(t,n),e}function N(e,t){e!==null&&e.before(t)}function G(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Rs(e,t){return Fs(e,t)}const Oe=new Map;function Fs(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:l=!0}){hs();var u=new Set,a=d=>{for(var _=0;_<d.length;_++){var v=d[_];if(!u.has(v)){u.add(v);var c=Ns(v);t.addEventListener(v,Qe,{passive:c});var w=Oe.get(v);w===void 0?(document.addEventListener(v,Qe,{passive:c}),Oe.set(v,1)):Oe.set(v,w+1)}}};a(zt(Os)),Cn.add(a);var o=void 0,f=ys(()=>{var d=n??t.appendChild(it());return Ze(()=>{if(i){Ce({});var _=I;_.c=i}s&&(r.$$events=s),o=e(d,r)||{},i&&Te()}),()=>{for(var _ of u){t.removeEventListener(_,Qe);var v=Oe.get(_);--v===0?(document.removeEventListener(_,Qe),Oe.delete(_)):Oe.set(_,v)}Cn.delete(a),d!==n&&d.parentNode?.removeChild(d)}});return qs.set(o,f),o}let qs=new WeakMap;function ie(e,t,n=!1){var r=e,s=null,i=null,l=R,u=n?Gt:0,a=!1;const o=(v,c=!0)=>{a=!0,_(c,v)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var v=l?s:i,c=l?i:s;v&&an(v),c&&sn(c,()=>{l?i=null:s=null})}const _=(v,c)=>{if(l!==(l=v)){var w=er(),g=r;if(w&&(f=document.createDocumentFragment(),f.append(g=it())),l?s??=c&&Ze(()=>c(g)):i??=c&&Ze(()=>c(g)),w){var x=$,p=l?s:i,y=l?i:s;p&&x.skipped_effects.delete(p),y&&x.skipped_effects.add(y),x.add_callback(d)}else d()}};sr(()=>{a=!1,t(o),a||_(null,null)},u)}function hr(e,t){return t}function js(e,t,n){for(var r=e.items,s=[],i=t.length,l=0;l<i;l++)ln(t[l].e,s,!0);var u=i>0&&s.length===0&&n!==null;if(u){var a=n.parentNode;ps(a),a.append(n),r.clear(),re(e,t[0].prev,t[i-1].next)}ur(s,()=>{for(var o=0;o<i;o++){var f=t[o];u||(r.delete(f.k),re(e,f.prev,f.next)),ce(f.e,!u)}})}function on(e,t,n,r,s,i=null){var l=e,u={flags:t,items:new Map,first:null},a=(t&Fn)!==0;if(a){var o=e;l=o.appendChild(it())}var f=null,d=!1,_=new Map,v=tn(()=>{var x=n();return Wt(x)?x:x==null?[]:zt(x)}),c,w;function g(){Us(w,c,u,_,l,s,t,r,n),i!==null&&(c.length===0?f?an(f):f=Ze(()=>i(l)):f!==null&&sn(f,()=>{f=null}))}sr(()=>{w??=k,c=h(v);var x=c.length;if(!(d&&x===0)){d=x===0;var p,y,T,P;if(er()){var b=new Set,C=$;for(y=0;y<x;y+=1){T=c[y],P=r(T,y);var j=u.items.get(P)??_.get(P);j?(t&(xt|kt))!==0&&pr(j,T,y,t):(p=gr(null,u,null,null,T,P,y,s,t,n,!0),_.set(P,p)),b.add(P)}for(const[U,ue]of u.items)b.has(U)||C.skipped_effects.add(ue.e);C.add_callback(g)}else g();h(v)}})}function Us(e,t,n,r,s,i,l,u,a){var o=(l&zr)!==0,f=(l&(xt|kt))!==0,d=t.length,_=n.items,v=n.first,c=v,w,g=null,x,p=[],y=[],T,P,b,C;if(o)for(C=0;C<d;C+=1)T=t[C],P=u(T,C),b=_.get(P),b!==void 0&&(b.a?.measure(),(x??=new Set).add(b));for(C=0;C<d;C+=1){if(T=t[C],P=u(T,C),b=_.get(P),b===void 0){var j=r.get(P);if(j!==void 0){r.delete(P),_.set(P,j);var U=g?g.next:c;re(n,g,j),re(n,j,U),Mt(j,U,s),g=j}else{var ue=c?c.e.nodes_start:s;g=gr(ue,n,g,g===null?n.first:g.next,T,P,C,i,l,a)}_.set(P,g),p=[],y=[],c=g.next;continue}if(f&&pr(b,T,C,l),(b.e.f&ne)!==0&&(an(b.e),o&&(b.a?.unfix(),(x??=new Set).delete(b))),b!==c){if(w!==void 0&&w.has(b)){if(p.length<y.length){var Z=y[0],m;g=Z.prev;var L=p[0],O=p[p.length-1];for(m=0;m<p.length;m+=1)Mt(p[m],Z,s);for(m=0;m<y.length;m+=1)w.delete(y[m]);re(n,L.prev,O.next),re(n,g,L),re(n,O,Z),c=Z,g=O,C-=1,p=[],y=[]}else w.delete(b),Mt(b,c,s),re(n,b.prev,b.next),re(n,b,g===null?n.first:g.next),re(n,g,b),g=b;continue}for(p=[],y=[];c!==null&&c.k!==P;)(c.e.f&ne)===0&&(w??=new Set).add(c),y.push(c),c=c.next;if(c===null)continue;b=c}p.push(b),g=b,c=b.next}if(c!==null||w!==void 0){for(var ee=w===void 0?[]:zt(w);c!==null;)(c.e.f&ne)===0&&ee.push(c),c=c.next;var K=ee.length;if(K>0){var $e=(l&Fn)!==0&&d===0?s:null;if(o){for(C=0;C<K;C+=1)ee[C].a?.measure();for(C=0;C<K;C+=1)ee[C].a?.fix()}js(n,ee,$e)}}o&&Bn(()=>{if(x!==void 0)for(b of x)b.a?.apply()}),e.first=n.first&&n.first.e,e.last=g&&g.e;for(var Ie of r.values())ce(Ie.e);r.clear()}function pr(e,t,n,r){(r&xt)!==0&&Xe(e.v,t),(r&kt)!==0?Xe(e.i,n):e.i=n}function gr(e,t,n,r,s,i,l,u,a,o,f){var d=(a&xt)!==0,_=(a&Qr)===0,v=d?_?te(s,!1,!1):Je(s):s,c=(a&kt)===0?l:Je(l),w={i:c,v,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var g=document.createDocumentFragment();g.append(e=it())}return w.e=Ze(()=>u(e,v,c,o),ts),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?f||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function Mt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var l=Pt(i);s.before(i),i=l}}function re(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const An=[...` 	
\r\f \v\uFEFF`];function Hs(e,t,n){var r=e==null?"":""+e;if(n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,l=0;(l=r.indexOf(s,l))>=0;){var u=l+i;(l===0||An.includes(r[l-1]))&&(u===r.length||An.includes(r[u]))?r=(l===0?"":r.substring(0,l))+r.substring(u+1):l=u}}return r===""?null:r}function tt(e,t,n,r,s,i){var l=e.__className;if(l!==n||l===void 0){var u=Hs(n,r,i);u==null?e.removeAttribute("class"):e.className=u,e.__className=n}else if(i&&s!==i)for(var a in i){var o=!!i[a];(s==null||o!==!!s[a])&&e.classList.toggle(a,o)}return i}function Vs(e,t,n=t){var r=new WeakSet;ws(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=Rt(e)?Ft(i):i,n(i),$!==null&&r.add($),await As(),i!==(i=t())){var l=e.selectionStart,u=e.selectionEnd;e.value=i??"",u!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(u,e.value.length))}}),F(t)==null&&e.value&&(n(Rt(e)?Ft(e.value):e.value),$!==null&&r.add($)),rn(()=>{var s=t();if(e===document.activeElement){var i=vt??$;if(r.has(i))return}Rt(e)&&s===Ft(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Rt(e){var t=e.type;return t==="number"||t==="range"}function Ft(e){return e===""?null:+e}function Bs(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function We(e=!1){const t=I,n=t.l.u;if(!n)return;let r=()=>Is(t.s);if(e){let s=0,i={};const l=en(()=>{let u=!1;const a=t.s;for(const o in a)a[o]!==i[o]&&(i[o]=a[o],u=!0);return u&&s++,s});r=()=>h(l)}n.b.length&&bs(()=>{$n(t,r),ht(n.b)}),Ht(()=>{const s=F(()=>n.m.map(Or));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&Ht(()=>{$n(t,r),ht(n.a)})}function $n(e,t){if(e.l.s)for(const n of e.l.s)h(n);t()}function wr(e,t,n){if(e==null)return t(void 0),Fe;const r=F(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const De=[];function Tt(e,t=Fe){let n=null;const r=new Set;function s(u){if(jn(e,u)&&(e=u,n)){const a=!De.length;for(const o of r)o[1](),De.push(o,e);if(a){for(let o=0;o<De.length;o+=2)De[o][0](De[o+1]);De.length=0}}}function i(u){s(u(e))}function l(u,a=Fe){const o=[u,a];return r.add(o),r.size===1&&(n=t(s,i)||Fe),u(e),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}function Ks(e){let t;return wr(e,n=>t=n)(),t}let ct=!1,Kt=Symbol();function le(e,t,n){const r=n[t]??={store:null,source:te(void 0),unsubscribe:Fe};if(r.store!==e&&!(Kt in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Fe;else{var s=!0;r.unsubscribe=wr(e,i=>{s?r.source.v=i:E(r.source,i)}),s=!1}return e&&Kt in n?Ks(e):h(r.source)}function at(){const e={};function t(){nr(()=>{for(var n in e)e[n].unsubscribe();_t(e,Kt,{enumerable:!1,value:!0})})}return[e,t]}function Ys(e){var t=ct;try{return ct=!1,[e(),ct]}finally{ct=t}}function In(e,t,n,r){var s=!Ye||(n&Gr)!==0,i=(n&Xr)!==0,l=r,u=!0,a=()=>(u&&(u=!1,l=r),l),o;{var f=qe in e||Rr in e;o=Re(e,t)?.set??(f&&t in e?p=>e[t]=p:void 0)}var d,_=!1;[d,_]=Ys(()=>e[t]),d===void 0&&r!==void 0&&(d=a(),o&&(s&&Br(),o(d)));var v;if(s?v=()=>{var p=e[t];return p===void 0?a():(u=!0,p)}:v=()=>{var p=e[t];return p!==void 0&&(l=void 0),p===void 0?l:p},s&&(n&Jr)===0)return v;if(o){var c=e.$$legacy;return(function(p,y){return arguments.length>0?((!s||!y||c||_)&&o(y?v():p),p):v()})}var w=!1,g=tn(()=>(w=!1,v()));h(g);var x=k;return(function(p,y){if(arguments.length>0){const T=y?h(g):s&&i?Me(p):p;return E(g,T),w=!0,l!==void 0&&(l=T),p}return Ae&&w||(x.f&Pe)!==0?g.v:h(g)})}function fn(e){I===null&&Rn(),Ye&&I.l!==null?Ws(I).m.push(e):Ht(()=>{const t=F(e);if(typeof t=="function")return t})}function mr(e){I===null&&Rn(),fn(()=>()=>F(e))}function Ws(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const zs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(zs);rs();const nt=Tt([]),cn=Tt(0),yt=Tt("study"),He=Tt(null);async function Qs(){try{const e=await fetch("lessons.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();nt.set(t),t.length>0&&await br(0)}catch(e){console.error("Could not fetch lessons.json:",e),nt.set([])}}async function br(e){const t=Gs(nt);if(!t[e]){console.error(`Lesson with index ${e} not found in manifest.`),He.set(null);return}const n=t[e].path;try{const r=await fetch(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();He.set(s),cn.set(e)}catch(r){console.error(`Could not fetch ${n}:`,r),He.set(null)}}function Gs(e){let t;return e.subscribe(n=>t=n)(),t}var Js=M("<button></button>"),Xs=M('<nav class="days-nav svelte-1upqezx"><!></nav>');function Zs(e,t){Ce(t,!1);const[n,r]=at(),s=()=>le(cn,"$currentLessonIndex",n),i=()=>le(nt,"$lessons",n);function l(f){f!==s()&&br(f)}We();var u=Xs(),a=A(u);{var o=f=>{var d=un(),_=je(d);on(_,1,i,hr,(v,c,w)=>{var g=Js();let x;g.textContent=`Day ${w+1}`,ye(p=>x=tt(g,1,"day-btn svelte-1upqezx",null,x,p),[()=>({active:w===s()})]),W("click",g,()=>l(w)),N(v,g)}),N(f,d)};ie(a,f=>{i().length>0&&f(o)})}N(e,u),Te(),r()}var ei=M("<button> </button>"),ti=M('<div class="mode-selector svelte-v21mrc"></div>');function ni(e,t){Ce(t,!1);const[n,r]=at(),s=()=>le(yt,"$currentMode",n),i=[{id:"study",name:"学习模式"},{id:"test",name:"默写模式"},{id:"practice",name:"练习模式"}];function l(a){yt.set(a)}We();var u=ti();on(u,5,()=>i,hr,(a,o)=>{var f=ei();let d;var _=A(f);ye(v=>{d=tt(f,1,"mode-btn svelte-v21mrc",null,d,v),G(_,h(o).name)},[()=>({active:h(o).id===s()})]),W("click",f,()=>l(h(o).id)),N(a,f)}),N(e,u),Te(),r()}var ri=M('<span class="speaker-icon svelte-qtq5dx" role="button" tabindex="0">🔊</span>');function Yt(e,t){Ce(t,!1);let n=In(t,"text",8),r=In(t,"lang",8,"fi-FI");const s=window.speechSynthesis;function i(){s.speaking&&s.cancel();const a=new SpeechSynthesisUtterance(n());a.lang=r(),a.rate=.9,s.speak(a)}function l(a){a.key==="Enter"&&i()}We();var u=ri();W("click",u,Bs(i)),W("keypress",u,l),N(e,u),Te()}var si=M('<div><p class="finnish svelte-1vuh6yw"><span> </span> <!></p> <p class="chinese svelte-1vuh6yw"> </p></div>'),ii=M('<div class="header-controls svelte-1vuh6yw"><h2 class="day-title svelte-1vuh6yw"> </h2> <button class="btn-play-all svelte-1vuh6yw"> </button></div> <div class="entries-grid svelte-1vuh6yw"></div>',1),li=M("<p>Loading lesson...</p>"),ai=M('<div class="study-view svelte-1vuh6yw"><!></div>');function ui(e,t){Ce(t,!1);const[n,r]=at(),s=()=>le(He,"$currentLessonData",n),i=window.speechSynthesis;let l=te(!1),u=[],a=0,o=te("");function f(p,y,T){i.speaking&&i.cancel();const P=new SpeechSynthesisUtterance(p);P.lang=y,P.rate=.9,P.onend=T,i.speak(P)}function d(){if(a<u.length&&h(l)){const p=u[a];E(o,p.finnishForHighlight),f(p.text,p.lang,d),a++}else v()}function _(){h(l)?v():(u=[],s().entries.forEach(p=>{u.push({text:p.finnish,lang:"fi-FI",finnishForHighlight:p.finnish}),u.push({text:p.chinese,lang:"zh-CN",finnishForHighlight:p.finnish})}),E(l,!0),a=0,d())}function v(){E(l,!1),E(o,""),i.speaking&&i.cancel()}mr(()=>{v()}),We();var c=ai(),w=A(c);{var g=p=>{var y=ii(),T=je(y),P=A(T),b=A(P),C=D(P,2),j=A(C),U=D(T,2);on(U,5,()=>s().entries,ue=>ue.finnish,(ue,Z)=>{var m=si();let L;var O=A(m),ee=A(O),K=A(ee),$e=D(ee,2);Yt($e,{get text(){return h(Z).finnish},lang:"fi-FI"});var Ie=D(O,2),ut=A(Ie);ye(At=>{L=tt(m,1,"entry svelte-1vuh6yw",null,L,At),G(K,h(Z).finnish),G(ut,h(Z).chinese)},[()=>({playing:h(Z).finnish===h(o)})]),N(ue,m)}),ye(()=>{G(b,s().day),G(j,h(l)?"停止朗读":"整课循环朗读")}),W("click",C,_),N(p,y)},x=p=>{var y=li();N(p,y)};ie(w,p=>{s()?p(g):p(x,!1)})}N(e,c),Te(),r()}var oi=M('<div class="card completion-card svelte-1c5xhip"><p class="svelte-1c5xhip">🎉 恭喜！您已完成本课的所有练习！</p> <button class="btn svelte-1c5xhip">重新开始</button></div>'),fi=M('<div class="translation-container svelte-1c5xhip"><p> </p> <button class="btn-toggle svelte-1c5xhip"> </button></div>'),ci=M('<button class="btn check-btn svelte-1c5xhip">检查</button>'),vi=M('<div><p class="svelte-1c5xhip"> </p> <p class="correct-answer svelte-1c5xhip"><span> </span> <!></p></div>'),di=M('<div class="card svelte-1c5xhip"><p class="question svelte-1c5xhip"><span> </span> <!></p> <!> <input id="answer-input" type="text" placeholder="输入你的答案..." class="svelte-1c5xhip"/> <!> <!> <div class="navigation svelte-1c5xhip"><button class="btn svelte-1c5xhip">上一题</button> <span> </span> <button class="btn svelte-1c5xhip"> </button></div></div>'),_i=M('<div class="practice-view svelte-1c5xhip"><!></div>');function hi(e,t){Ce(t,!1);const[n,r]=at(),s=()=>le(cn,"$currentLessonIndex",n),i=()=>le(yt,"$currentMode",n),l=()=>le(He,"$currentLessonData",n);let u=te([]),a=te(0),o=te(""),f=te({message:"",isCorrect:!1,showCorrect:!1,correctAnswer:""}),d=te(!1),_=te(!1);function v(m){let L=m.length,O;for(;L!==0;)O=Math.floor(Math.random()*L),L--,[m[L],m[O]]=[m[O],m[L]];return m}function c(m,L,O){const K=JSON.parse(localStorage.getItem("suomenProgress")||"{}")?.[m]?.[L];K&&K.shuffledEntries?(E(u,K.shuffledEntries),E(a,K.currentIndex||0)):(E(u,v([...O])),E(a,0),w()),E(_,h(a)>=h(u).length)}function w(){const m=s(),L=i(),O=JSON.parse(localStorage.getItem("suomenProgress")||"{}");O[m]||(O[m]={}),O[m][L]={shuffledEntries:h(u),currentIndex:h(a)},localStorage.setItem("suomenProgress",JSON.stringify(O))}let g=te();function x(){if(!h(g))return;const m=i()==="test"?h(g).chinese:h(g).finnish;h(o).trim().toLowerCase()===m.trim().toLowerCase()?(E(f,{message:"正确!",isCorrect:!0,showCorrect:!0,correctAnswer:m}),setTimeout(()=>{p()},800)):E(f,{message:"错误. 正确答案:",isCorrect:!1,showCorrect:!0,correctAnswer:m})}function p(){h(a)<h(u).length-1?(Ot(a),w(),T()):(Ot(a),w(),E(_,!0))}function y(){h(a)>0&&(Ot(a,-1),w(),T())}function T(){E(o,""),E(f,{message:"",isCorrect:!1,showCorrect:!1,correctAnswer:""}),E(d,!1),setTimeout(()=>{const m=document.getElementById("answer-input");m&&m.focus()},0)}function P(){E(u,v([...l().entries])),E(a,0),E(_,!1),w(),T()}function b(m){m.key==="Alt"&&i()==="practice"&&(m.preventDefault(),E(d,!0))}function C(m){m.key==="Alt"&&i()==="practice"&&E(d,!1)}fn(()=>{window.addEventListener("keydown",b),window.addEventListener("keyup",C)}),mr(()=>{window.removeEventListener("keydown",b),window.removeEventListener("keyup",C)}),xn(()=>(l(),s(),i()),()=>{l()&&(c(s(),i(),l().entries),T())}),xn(()=>(h(u),h(a)),()=>{E(g,h(u)[h(a)])}),Es(),We();var j=_i(),U=A(j);{var ue=m=>{var L=oi(),O=D(A(L),2);W("click",O,P),N(m,L)},Z=m=>{var L=un(),O=je(L);{var ee=K=>{var $e=di(),Ie=A($e),ut=A(Ie),At=A(ut),yr=D(ut,2);Yt(yr,{get text(){return h(g),F(()=>h(g).finnish)}});var vn=D(Ie,2);{var Er=H=>{var oe=fi(),Le=A(oe);let ze;var It=A(Le),Ne=D(Le,2),ft=A(Ne);ye(Lt=>{ze=tt(Le,1,"translation svelte-1c5xhip",null,ze,Lt),G(It,(h(g),F(()=>h(g).chinese))),G(ft,h(d)?"隐藏翻译":"按住显示翻译")},[()=>({visible:h(d)})]),W("mousedown",Ne,()=>E(d,!0)),W("mouseup",Ne,()=>E(d,!1)),W("mouseleave",Ne,()=>E(d,!1)),N(H,oe)};ie(vn,H=>{i()==="practice"&&H(Er)})}var ot=D(vn,2),dn=D(ot,2);{var xr=H=>{var oe=ci();W("click",oe,x),N(H,oe)};ie(dn,H=>{h(f),F(()=>!h(f).showCorrect)&&H(xr)})}var _n=D(dn,2);{var kr=H=>{var oe=vi();let Le;var ze=A(oe),It=A(ze),Ne=D(ze,2),ft=A(Ne),Lt=A(ft),Tr=D(ft,2);Yt(Tr,{get text(){return h(g),F(()=>h(g).finnish)}}),ye(Ar=>{Le=tt(oe,1,"feedback svelte-1c5xhip",null,Le,Ar),G(It,(h(f),F(()=>h(f).message))),G(Lt,(h(f),F(()=>h(f).correctAnswer)))},[()=>({correct:h(f).isCorrect,incorrect:!h(f).isCorrect})]),N(H,oe)};ie(_n,H=>{h(f),F(()=>h(f).showCorrect)&&H(kr)})}var Sr=D(_n,2),$t=A(Sr),hn=D($t,2),Pr=A(hn),pn=D(hn,2),Cr=A(pn);ye(()=>{G(At,(h(g),F(()=>h(g).finnish))),ot.disabled=(h(f),F(()=>h(f).showCorrect)),$t.disabled=h(a)===0,G(Pr,`${h(a)+1} / ${h(u),F(()=>h(u).length)??""}`),G(Cr,(h(f),F(()=>h(f).showCorrect?"下一题":"跳过")))}),Vs(ot,()=>h(o),H=>E(o,H)),W("keydown",ot,H=>H.key==="Enter"&&x()),W("click",$t,y),W("click",pn,p),N(K,$e)};ie(O,K=>{h(g)&&K(ee)},!0)}N(m,L)};ie(U,m=>{h(_)?m(ue):m(Z,!1)})}N(e,j),Te(),r()}var pi=M("<p>Loading day's content...</p>"),gi=M('<!> <!> <div class="content-area"><!></div>',1),wi=M("<p>Loading lesson manifest...</p>"),mi=M('<header class="svelte-nwa0j8"><h1 class="svelte-nwa0j8">Suomen Oppiminen</h1> <p class="svelte-nwa0j8">芬兰语学习笔记</p></header> <main class="svelte-nwa0j8"><!></main> <footer class="svelte-nwa0j8"><p>Opetellaan suomea yhdessä!</p></footer>',1);function bi(e,t){Ce(t,!1);const[n,r]=at(),s=()=>le(nt,"$lessons",n),i=()=>le(He,"$currentLessonData",n),l=()=>le(yt,"$currentMode",n);fn(()=>{Qs()}),We();var u=mi(),a=D(je(u),2),o=A(a);{var f=_=>{var v=gi(),c=je(v);Zs(c,{});var w=D(c,2);ni(w,{});var g=D(w,2),x=A(g);{var p=T=>{var P=un(),b=je(P);{var C=U=>{ui(U,{})},j=U=>{hi(U,{})};ie(b,U=>{l()==="study"?U(C):U(j,!1)})}N(T,P)},y=T=>{var P=pi();N(T,P)};ie(x,T=>{i()?T(p):T(y,!1)})}N(_,v)},d=_=>{var v=wi();N(_,v)};ie(o,_=>{s().length>0?_(f):_(d,!1)})}N(e,u),Te(),r()}Rs(bi,{target:document.getElementById("app")});
